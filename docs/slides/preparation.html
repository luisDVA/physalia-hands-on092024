<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.56">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Luis D. Verde Arregoitia">

<title>Data preparation ‚Äì Practical intro to R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">
      Practical intro to R
      </li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Practical intro to R</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/luisDVA/physalia-hands-on092024" title="Site Source Code" class="quarto-navigation-tool px-1" aria-label="Site Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../materials.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Course materials</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#today" id="toc-today" class="nav-link active" data-scroll-target="#today">Today:</a></li>
  <li><a href="#tidyverse" id="toc-tidyverse" class="nav-link" data-scroll-target="#tidyverse">tidyverse</a></li>
  <li><a href="#tidyverse-1" id="toc-tidyverse-1" class="nav-link" data-scroll-target="#tidyverse-1">tidyverse</a></li>
  <li><a href="#pipes" id="toc-pipes" class="nav-link" data-scroll-target="#pipes">Pipes</a></li>
  <li><a href="#nested-code" id="toc-nested-code" class="nav-link" data-scroll-target="#nested-code">Nested code</a></li>
  <li><a href="#intermediate-objects" id="toc-intermediate-objects" class="nav-link" data-scroll-target="#intermediate-objects">Intermediate objects</a></li>
  <li><a href="#pipes-1" id="toc-pipes-1" class="nav-link" data-scroll-target="#pipes-1">Pipes</a></li>
  <li><a href="#pipes-2" id="toc-pipes-2" class="nav-link" data-scroll-target="#pipes-2">Pipes</a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1"></a></li>
  <li><a href="#tibbles" id="toc-tibbles" class="nav-link" data-scroll-target="#tibbles">tibbles</a></li>
  <li><a href="#section-2" id="toc-section-2" class="nav-link" data-scroll-target="#section-2"></a></li>
  <li><a href="#creating-tibbles" id="toc-creating-tibbles" class="nav-link" data-scroll-target="#creating-tibbles">Creating tibbles</a></li>
  <li><a href="#tibbles-1" id="toc-tibbles-1" class="nav-link" data-scroll-target="#tibbles-1">tibbles</a></li>
  <li><a href="#indexing-and-subsetting-with" id="toc-indexing-and-subsetting-with" class="nav-link" data-scroll-target="#indexing-and-subsetting-with">Indexing and subsetting with <code>$</code></a></li>
  <li><a href="#tibble-printing" id="toc-tibble-printing" class="nav-link" data-scroll-target="#tibble-printing">tibble printing</a></li>
  <li><a href="#data-organization" id="toc-data-organization" class="nav-link" data-scroll-target="#data-organization">Data organization</a>
  <ul class="collapse">
  <li><a href="#whats-wrong-with-these-data" id="toc-whats-wrong-with-these-data" class="nav-link" data-scroll-target="#whats-wrong-with-these-data">What‚Äôs wrong with these data?</a></li>
  <li><a href="#a-more-usable-format" id="toc-a-more-usable-format" class="nav-link" data-scroll-target="#a-more-usable-format">A more usable format</a></li>
  <li><a href="#well-organized-data" id="toc-well-organized-data" class="nav-link" data-scroll-target="#well-organized-data">Well-organized data</a></li>
  <li><a href="#data-organization-best-practices" id="toc-data-organization-best-practices" class="nav-link" data-scroll-target="#data-organization-best-practices">Data Organization best practices</a></li>
  <li><a href="#consistency" id="toc-consistency" class="nav-link" data-scroll-target="#consistency">Consistency</a></li>
  <li><a href="#data-rectangles" id="toc-data-rectangles" class="nav-link" data-scroll-target="#data-rectangles">Data rectangles</a></li>
  <li><a href="#section-3" id="toc-section-3" class="nav-link" data-scroll-target="#section-3"></a></li>
  </ul></li>
  <li><a href="#tidy-data-and-data-rectangling" id="toc-tidy-data-and-data-rectangling" class="nav-link" data-scroll-target="#tidy-data-and-data-rectangling">Tidy data and data rectangling</a>
  <ul class="collapse">
  <li><a href="#ready-for-immediate-use" id="toc-ready-for-immediate-use" class="nav-link" data-scroll-target="#ready-for-immediate-use">Ready for immediate use?</a></li>
  <li><a href="#not-ready" id="toc-not-ready" class="nav-link" data-scroll-target="#not-ready">Not ready?</a></li>
  <li><a href="#tidy-data" id="toc-tidy-data" class="nav-link" data-scroll-target="#tidy-data">Tidy data</a></li>
  <li><a href="#tidy-data-1" id="toc-tidy-data-1" class="nav-link" data-scroll-target="#tidy-data-1">Tidy data</a></li>
  <li><a href="#section-4" id="toc-section-4" class="nav-link" data-scroll-target="#section-4"></a></li>
  <li><a href="#section-5" id="toc-section-5" class="nav-link" data-scroll-target="#section-5"></a></li>
  <li><a href="#why-tidy" id="toc-why-tidy" class="nav-link" data-scroll-target="#why-tidy">Why tidy?</a></li>
  <li><a href="#section-6" id="toc-section-6" class="nav-link" data-scroll-target="#section-6"></a></li>
  <li><a href="#why-not" id="toc-why-not" class="nav-link" data-scroll-target="#why-not">Why not</a></li>
  </ul></li>
  <li><a href="#data-organization-quick-tips" id="toc-data-organization-quick-tips" class="nav-link" data-scroll-target="#data-organization-quick-tips">Data organization quick tips</a>
  <ul class="collapse">
  <li><a href="#grouping-information-goes-in-its-own-variable" id="toc-grouping-information-goes-in-its-own-variable" class="nav-link" data-scroll-target="#grouping-information-goes-in-its-own-variable">Grouping information goes in its own variable</a></li>
  <li><a href="#na-and-empty-values" id="toc-na-and-empty-values" class="nav-link" data-scroll-target="#na-and-empty-values">NA and Empty Values</a></li>
  <li><a href="#section-7" id="toc-section-7" class="nav-link" data-scroll-target="#section-7"></a></li>
  <li><a href="#section-8" id="toc-section-8" class="nav-link" data-scroll-target="#section-8"></a></li>
  <li><a href="#make-reasonable-headers-column-names" id="toc-make-reasonable-headers-column-names" class="nav-link" data-scroll-target="#make-reasonable-headers-column-names">Make reasonable headers (column names)</a></li>
  <li><a href="#much-better" id="toc-much-better" class="nav-link" data-scroll-target="#much-better">Much better</a></li>
  <li><a href="#names-broken-across-rows" id="toc-names-broken-across-rows" class="nav-link" data-scroll-target="#names-broken-across-rows">Names broken across rows</a></li>
  </ul></li>
  <li><a href="#data-sharing-best-practices" id="toc-data-sharing-best-practices" class="nav-link" data-scroll-target="#data-sharing-best-practices">Data sharing best practices</a>
  <ul class="collapse">
  <li><a href="#data-can-be-intuitive-easy-to-read-and-machine-readable-if-shared-adequately" id="toc-data-can-be-intuitive-easy-to-read-and-machine-readable-if-shared-adequately" class="nav-link" data-scroll-target="#data-can-be-intuitive-easy-to-read-and-machine-readable-if-shared-adequately">Data can be intuitive, easy to read AND machine-readable if shared adequately</a></li>
  </ul></li>
  <li><a href="#tools-for-data-wrangling" id="toc-tools-for-data-wrangling" class="nav-link" data-scroll-target="#tools-for-data-wrangling">Tools for data wrangling</a>
  <ul class="collapse">
  <li><a href="#functions-and-packages-to-prepare-transform-and-reshape-data" id="toc-functions-and-packages-to-prepare-transform-and-reshape-data" class="nav-link" data-scroll-target="#functions-and-packages-to-prepare-transform-and-reshape-data">Functions and packages to prepare, transform, and reshape data</a></li>
  <li><a href="#handy-dplyr-functions" id="toc-handy-dplyr-functions" class="nav-link" data-scroll-target="#handy-dplyr-functions">Handy üì¶ <code>dplyr</code> functions</a></li>
  <li><a href="#section-9" id="toc-section-9" class="nav-link" data-scroll-target="#section-9"></a></li>
  <li><a href="#select" id="toc-select" class="nav-link" data-scroll-target="#select"><code>select()</code></a></li>
  <li><a href="#mutate" id="toc-mutate" class="nav-link" data-scroll-target="#mutate"><code>mutate()</code></a></li>
  <li><a href="#filter" id="toc-filter" class="nav-link" data-scroll-target="#filter"><code>filter()</code></a></li>
  <li><a href="#rename" id="toc-rename" class="nav-link" data-scroll-target="#rename"><code>rename()</code></a></li>
  <li><a href="#relocate" id="toc-relocate" class="nav-link" data-scroll-target="#relocate"><code>relocate()</code></a></li>
  <li><a href="#exporting-tables" id="toc-exporting-tables" class="nav-link" data-scroll-target="#exporting-tables">Exporting tables</a></li>
  </ul></li>
  <li><a href="#wrangling-na-values" id="toc-wrangling-na-values" class="nav-link" data-scroll-target="#wrangling-na-values">Wrangling <code>NA</code> values</a>
  <ul class="collapse">
  <li><a href="#section-10" id="toc-section-10" class="nav-link" data-scroll-target="#section-10"></a></li>
  <li><a href="#useful-functions-and-packages-for-missing-data" id="toc-useful-functions-and-packages-for-missing-data" class="nav-link" data-scroll-target="#useful-functions-and-packages-for-missing-data">Useful functions and packages for missing data</a></li>
  <li><a href="#remove-empty-rows-or-columns" id="toc-remove-empty-rows-or-columns" class="nav-link" data-scroll-target="#remove-empty-rows-or-columns">Remove empty rows or columns</a></li>
  <li><a href="#filtering-rows-with-missing-data" id="toc-filtering-rows-with-missing-data" class="nav-link" data-scroll-target="#filtering-rows-with-missing-data">Filtering rows with missing data</a></li>
  <li><a href="#filtering-rows-with-missing-data-1" id="toc-filtering-rows-with-missing-data-1" class="nav-link" data-scroll-target="#filtering-rows-with-missing-data-1">Filtering rows with missing data</a></li>
  <li><a href="#replace-nas-with-something-else" id="toc-replace-nas-with-something-else" class="nav-link" data-scroll-target="#replace-nas-with-something-else">Replace NAs with something else</a></li>
  <li><a href="#drop-rows-that-include-at-least-1-na" id="toc-drop-rows-that-include-at-least-1-na" class="nav-link" data-scroll-target="#drop-rows-that-include-at-least-1-na">Drop rows that include at least 1 <code>NA</code></a></li>
  <li><a href="#practice---package-datasets-1" id="toc-practice---package-datasets-1" class="nav-link" data-scroll-target="#practice---package-datasets-1">Practice - Package datasets (1)</a></li>
  <li><a href="#practice---package-datasets-2" id="toc-practice---package-datasets-2" class="nav-link" data-scroll-target="#practice---package-datasets-2">Practice - Package datasets (2)</a></li>
  <li><a href="#practice---package-datasets-3" id="toc-practice---package-datasets-3" class="nav-link" data-scroll-target="#practice---package-datasets-3">Practice - Package datasets (3)</a></li>
  <li><a href="#practice---data-manipulation" id="toc-practice---data-manipulation" class="nav-link" data-scroll-target="#practice---data-manipulation">Practice - data manipulation</a></li>
  </ul></li>
  <li><a href="#working-across-multiple-columns" id="toc-working-across-multiple-columns" class="nav-link" data-scroll-target="#working-across-multiple-columns">Working <code>across()</code> multiple columns</a>
  <ul class="collapse">
  <li><a href="#operating-on-multiple-columns" id="toc-operating-on-multiple-columns" class="nav-link" data-scroll-target="#operating-on-multiple-columns">Operating on multiple columns</a></li>
  <li><a href="#across-arguments" id="toc-across-arguments" class="nav-link" data-scroll-target="#across-arguments"><code>across()</code> arguments:</a></li>
  <li><a href="#useful-column-selection-helpers" id="toc-useful-column-selection-helpers" class="nav-link" data-scroll-target="#useful-column-selection-helpers">Useful column selection helpers</a></li>
  <li><a href="#everything" id="toc-everything" class="nav-link" data-scroll-target="#everything"><code>everything()</code></a></li>
  <li><a href="#section-11" id="toc-section-11" class="nav-link" data-scroll-target="#section-11"><code>!</code></a></li>
  <li><a href="#where" id="toc-where" class="nav-link" data-scroll-target="#where"><code>where()</code></a></li>
  <li><a href="#matches" id="toc-matches" class="nav-link" data-scroll-target="#matches"><code>matches()</code></a></li>
  <li><a href="#section-12" id="toc-section-12" class="nav-link" data-scroll-target="#section-12"><code>:</code></a></li>
  <li><a href="#section-13" id="toc-section-13" class="nav-link" data-scroll-target="#section-13"><code>-</code></a></li>
  <li><a href="#no-helpers-multiple-variables" id="toc-no-helpers-multiple-variables" class="nav-link" data-scroll-target="#no-helpers-multiple-variables">No helpers, multiple variables</a></li>
  <li><a href="#square-root-sqrt-of-all-numeric-variables" id="toc-square-root-sqrt-of-all-numeric-variables" class="nav-link" data-scroll-target="#square-root-sqrt-of-all-numeric-variables">Square root (<code>sqrt()</code>) of all numeric variables</a></li>
  <li><a href="#we-can-also-use-selection-helpers-to-keepdiscard-variables" id="toc-we-can-also-use-selection-helpers-to-keepdiscard-variables" class="nav-link" data-scroll-target="#we-can-also-use-selection-helpers-to-keepdiscard-variables">We can also use selection helpers to keep/discard variables</a></li>
  </ul></li>
  <li><a href="#pivoting-data" id="toc-pivoting-data" class="nav-link" data-scroll-target="#pivoting-data">Pivoting data</a>
  <ul class="collapse">
  <li><a href="#section-14" id="toc-section-14" class="nav-link" data-scroll-target="#section-14"></a></li>
  <li><a href="#reshaping-data-with-tidyr" id="toc-reshaping-data-with-tidyr" class="nav-link" data-scroll-target="#reshaping-data-with-tidyr">Reshaping data with üì¶ <code>tidyr</code></a></li>
  <li><a href="#section-15" id="toc-section-15" class="nav-link" data-scroll-target="#section-15"></a></li>
  <li><a href="#wide-to-long" id="toc-wide-to-long" class="nav-link" data-scroll-target="#wide-to-long">Wide to long</a></li>
  <li><a href="#section-16" id="toc-section-16" class="nav-link" data-scroll-target="#section-16"></a></li>
  <li><a href="#section-17" id="toc-section-17" class="nav-link" data-scroll-target="#section-17"></a></li>
  <li><a href="#long-to-wide" id="toc-long-to-wide" class="nav-link" data-scroll-target="#long-to-wide">Long to wide</a></li>
  <li><a href="#section-18" id="toc-section-18" class="nav-link" data-scroll-target="#section-18"></a></li>
  <li><a href="#practice---pivoting" id="toc-practice---pivoting" class="nav-link" data-scroll-target="#practice---pivoting">Practice - Pivoting</a></li>
  </ul></li>
  <li><a href="#questions-and-discussion" id="toc-questions-and-discussion" class="nav-link" data-scroll-target="#questions-and-discussion">Questions and discussion</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="preparation.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data preparation</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Luis D. Verde Arregoitia </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="today" class="level3">
<h3 class="anchored" data-anchor-id="today">Today:</h3>
<ul>
<li>The <code>tidyverse</code>&nbsp;</li>
<li>pipes</li>
<li>Data organization<br>
</li>
<li>Tidy data principles</li>
<li>tools for data wrangling<br>
</li>
<li>Subsetting and pivoting data</li>
</ul>
</section>
<section id="tidyverse" class="level2">
<h2 class="anchored" data-anchor-id="tidyverse">tidyverse</h2>
<div class="columns">
<div class="column" style="width:20%;">
<p><img src="imgs/tidyverse_celestial.png" class="img-fluid"></p>
</div><div class="column" style="width:80%;">
<blockquote class="blockquote">
<p>‚Ä¶ an opinionated collection of R packages designed for data science. All packages share an underlying design philosophy, grammar, and data structures. Its primary goal is to facilitate a conversation between a human and a computer about data ‚Ä¶</p>
</blockquote>
</div>
</div>
<div class="rightref">
<div class="refbox">
<p>Wickham et al.&nbsp;(2019)<br>
<a href="https://www.theoj.org/joss-papers/joss.01686/10.21105.joss.01686.pdf">Welcome to the tidyverse</a><br>
https://www.tidyverse.org/</p>
</div>
</div>
</section>
<section id="tidyverse-1" class="level2">
<h2 class="anchored" data-anchor-id="tidyverse-1">tidyverse</h2>
<ul>
<li><p>For the repeated tasks in of nearly every project: data import, tidying, manipulation, visualization, and programming</p></li>
<li><p>Designed for easier engagement with additional pieces of the larger ecosystem</p></li>
</ul>
<div class="rightref">
<div class="refbox">
<p>√áetinkaya-Rundel et al.&nbsp;(<a href="https://arxiv.org/abs/2108.03510">2021</a>)<br>
An educator‚Äôs perspective of the tidyverse</p>
</div>
</div>
</section>
<section id="pipes" class="level2">
<h2 class="anchored" data-anchor-id="pipes">Pipes</h2>
<p>To perform multiple operations in sequence:</p>
<div class="incremental">
<ul class="incremental">
<li><p>Nested code (results evaluated from the inside out)</p></li>
<li><p>Intermediate objects (assign objects with intermediate results and pass on to the next function in a sequence)</p></li>
<li><p>Pipes (structure sequential operations left-to-right)</p></li>
</ul>
</div>
</section>
<section id="nested-code" class="level2">
<h2 class="anchored" data-anchor-id="nested-code">Nested code</h2>
<p><br></p>
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>scores <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">8</span>,<span class="dv">10</span>,<span class="dv">6</span>,<span class="dv">9</span>,<span class="dv">5</span>,<span class="dv">9</span>,<span class="dv">8</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">mean</span>(scores), <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7.78</code></pre>
</div>
</div>
</div>
</section>
<section id="intermediate-objects" class="level2">
<h2 class="anchored" data-anchor-id="intermediate-objects">Intermediate objects</h2>
<p><br></p>
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>mn_scrs <span class="ot">&lt;-</span> <span class="fu">mean</span>(scores)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(mn_scrs, <span class="at">digits =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7.78</code></pre>
</div>
</div>
</div>
</section>
<section id="pipes-1" class="level2">
<h2 class="anchored" data-anchor-id="pipes-1">Pipes</h2>
<div class="fragment">
<div class="columns">
<div class="column" style="width:30%;">
<p>Left Hand Side<br>
(LHS)</p>
</div><div class="column" style="width:40%;">
<p><code>pipe operator</code></p>
<p><code>%&gt;%</code> or <code>|&gt;</code></p>
</div><div class="column" style="width:30%;">
<p>Right Hand Side<br>
(RHS)</p>
</div>
</div>
</div>
<p><br></p>
<div class="fragment">
<p>Take an <strong>object</strong> on the <strong>Left Hand Side</strong> of the pipe and insert it into a <strong>function</strong> as an argument on the <strong>Right Hand Side</strong></p>
<p>* By default, <strong>LHS</strong> is placed as the <strong>first</strong> argument in the call</p>
</div>
</section>
<section id="pipes-2" class="level2">
<h2 class="anchored" data-anchor-id="pipes-2">Pipes</h2>
<ul>
<li><p>Minimize the need for intermediate objects and nested code</p></li>
<li><p>Make code readable</p></li>
<li><p>Easy to add or remove steps</p></li>
</ul>
<blockquote class="blockquote">
<p>Insert with <code>ctrl + shift + M</code></p>
</blockquote>
<div style="text-align: right">
<p>Adolfo √Ålvarez (2021)<br>
<a href="http://adolfoalvarez.cl/blog/2021-09-16-plumbers-chains-and-famous-painters-the-history-of-the-pipe-operator-in-r/">The (updated) history of the pipe operator in R</a></p>
</div>
</section>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"></h2>
<div class="big-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mean</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="at">digits=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7.78</code></pre>
</div>
</div>
</div>
<div class="big-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>scores <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  mean <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="at">digits=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7.78</code></pre>
</div>
</div>
</div>
</section>
<section id="section-1" class="level2">
<h2 class="anchored" data-anchor-id="section-1"></h2>
<p><br></p>
<div style="text-align: center">
<p><code>LHS |&gt; RHS(argument = 12)</code></p>
<p><em>becomes</em></p>
<p><code>RHS(LHS, argument = 12)</code></p>
</div>
</section>
<section id="tibbles" class="level2">
<h2 class="anchored" data-anchor-id="tibbles">tibbles</h2>
<p>A modern implementation of <code>data.frames</code></p>
<p>Implemented across the <code>tidyverse</code> through üì¶ <code>tibble</code></p>
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>),</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 2
  x         y
  &lt;chr&gt; &lt;dbl&gt;
1 a         1
2 b         2
3 c         3</code></pre>
</div>
</div>
</div>
</section>
<section id="section-2" class="level2">
<h2 class="anchored" data-anchor-id="section-2"></h2>
<p>tibbles are the shared rectangular data object for all <code>tidyverse</code> packages. However:</p>
<div class="incremental">
<ul class="incremental">
<li><p><code>data.frame</code> in ‚û°Ô∏è <code>data.frame</code> out</p></li>
<li><p><code>tibble</code> in ‚û°Ô∏è <code>tibble</code> out</p></li>
<li><p>create a new object ‚û°Ô∏è <code>tibble</code> out</p></li>
</ul>
</div>
</section>
<section id="creating-tibbles" class="level2">
<h2 class="anchored" data-anchor-id="creating-tibbles">Creating tibbles</h2>
<ul>
<li><p>Default function outputs</p></li>
<li><p>Coerce other objects with <code>as_tibble()</code></p></li>
<li><p>Build from scratch with <code>tibble()</code></p></li>
</ul>
</section>
<section id="tibbles-1" class="level2">
<h2 class="anchored" data-anchor-id="tibbles-1">tibbles</h2>
<p>To avoid ambiguity:</p>
<div class="incremental">
<ul class="incremental">
<li><p>No row names</p></li>
<li><p>Variable names untouched</p></li>
<li><p>Character columns not treated as factors</p></li>
<li><p>Complete variable names needed for subsetting with <code>$</code></p></li>
</ul>
</div>
</section>
<section id="indexing-and-subsetting-with" class="level2">
<h2 class="anchored" data-anchor-id="indexing-and-subsetting-with">Indexing and subsetting with <code>$</code></h2>
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>my_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">letters=</span><span class="fu">c</span>(<span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"C"</span>),</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">numbers=</span><span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>))</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>my_df<span class="sc">$</span>let</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "A" "B" "C"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>my_tib <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">letters=</span><span class="fu">c</span>(<span class="st">"A"</span>,<span class="st">"B"</span>,<span class="st">"C"</span>),</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>                 <span class="at">numbers=</span><span class="fu">c</span>(<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>))</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>my_tib<span class="sc">$</span>let</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: Unknown or uninitialised column: `let`.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>NULL</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>my_tib<span class="sc">$</span>letters </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "A" "B" "C"</code></pre>
</div>
</div>
</div>
</section>
<section id="tibble-printing" class="level2">
<h2 class="anchored" data-anchor-id="tibble-printing">tibble printing</h2>
<p>For brevity, <em>tibbles</em> printed on the console show:</p>
<div class="incremental">
<ul class="incremental">
<li><p>First 10 rows</p></li>
<li><p>How many rows and columns are not shown</p></li>
<li><p>As many columns as can fit on the console width</p></li>
<li><p>Variable types</p></li>
<li><p>Rounding and highlighting for numeric variables</p></li>
</ul>
</div>
</section>
<section id="data-organization" class="level1">
<h1>Data organization</h1>
<section id="whats-wrong-with-these-data" class="level2" data-background-color="#a4c5ff">
<h2 data-background-color="#a4c5ff" class="anchored" data-anchor-id="whats-wrong-with-these-data">What‚Äôs wrong with these data?</h2>
<p><img src="imgs/wordData.png" class="img-fluid"></p>
</section>
<section id="a-more-usable-format" class="level2">
<h2 class="anchored" data-anchor-id="a-more-usable-format">A more usable format</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 7
  Name          Role     Year Travel.Type   Trip.Purpose  Cost Country
  &lt;chr&gt;         &lt;chr&gt;   &lt;int&gt; &lt;chr&gt;         &lt;chr&gt;        &lt;int&gt; &lt;chr&gt;  
1 Jane Michaels PI       2019 National      Field Work    1000 UK     
2 Jane Michaels PI       2019 National      Field Work    2000 UK     
3 Jane Michaels PI       2019 National      Conference    1000 UK     
4 Jane Michaels PI       2019 National      Workshop      1000 UK     
5 Jane Michaels PI       2019 International Conference    3000 USA    
6 Raul J        Student  2019 National      Field Work       0 UK     </code></pre>
</div>
</div>
</section>
<section id="well-organized-data" class="level2">
<h2 class="anchored" data-anchor-id="well-organized-data">Well-organized data</h2>
<ul>
<li><p>Easier to import and manipulate</p></li>
<li><p>Less prone to (non-replicable) errors</p>
<ul>
<li>omission</li>
<li>alteration</li>
<li>duplication</li>
</ul></li>
</ul>
<p>Good data organization helps us when we produce data, and also to identify and solve problems in existing data</p>
<div class="rightref">
<div class="refbox">
<p>Chapter 3. Data Organization<br>
<a href="https://datamgmtinedresearch.com/structure">Data Management in Research</a><br>
Crystal Lewis</p>
</div>
</div>
</section>
<section id="data-organization-best-practices" class="level2">
<h2 class="anchored" data-anchor-id="data-organization-best-practices">Data Organization best practices</h2>
<ul>
<li><p>Consistency in names, layouts, abbreviations, units, etc.</p></li>
<li><p>Good names</p></li>
<li><p>Rectangular layouts</p></li>
</ul>
<div class="rightref">
<div class="refbox">
<div class="columns">
<div class="column" style="width:33%;">
<p>Openscapes (2020)<br>
<a href="https://www.openscapes.org/blog/2020/10/12/tidy-data/">Tidy data illustrated</a></p>
</div><div class="column" style="width:33%;">
<p>Broman and Woo (2018)<br>
<a href="https://doi.org/10.1080/00031305.2017.1375989">Organizing data in spreadsheets</a></p>
</div><div class="column" style="width:33%;">
<p>Verde Arregoita et al.&nbsp;(2018)<br>
<a href="https://doi.org/10.4404/hystrix-00133-2018">Good practices for sharing analysis-ready data‚Ä¶</a></p>
</div>
</div>
</div>
</div>
</section>
<section id="consistency" class="level2">
<h2 class="anchored" data-anchor-id="consistency">Consistency</h2>
<p><img src="imgs/consistency.png" class="img-fluid"></p>
<p>Find the inconsistencies</p>
</section>
<section id="data-rectangles" class="level2">
<h2 class="anchored" data-anchor-id="data-rectangles">Data rectangles</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/fig3-3rectangle.PNG" class="img-fluid figure-img"></p>
<figcaption>Data Organization - Crystal Lewis</figcaption>
</figure>
</div>
<ul>
<li><p>Each row has the same number of columns</p></li>
<li><p>Each column has the same number of rows</p></li>
</ul>
<p>Equal-height columns give a rectangular shape to the data frame</p>
</section>
<section id="section-3" class="level2">
<h2 class="anchored" data-anchor-id="section-3"></h2>
<div class="columns">
<div class="column" style="width:65%;">
<p><img src="imgs/cashflow.png" class="img-fluid" style="width:64.0%"></p>
</div><div class="column" style="width:35%;">
<p>Davis Vaughan (2018)<br>
<a href="https://blog.davisvaughan.com/2018/02/16/tidying-excel-cash-flow-spreadsheets-in-r/">Tidying Excel cash flow spreadsheets</a></p>
</div>
</div>
</section>
</section>
<section id="tidy-data-and-data-rectangling" class="level1">
<h1>Tidy data and data rectangling</h1>
<section id="ready-for-immediate-use" class="level2">
<h2 class="anchored" data-anchor-id="ready-for-immediate-use">Ready for immediate use?</h2>
<ul>
<li>Subset, group, transform, sort, visualize, model, share</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="imgs/r4dscomm.png" class="img-fluid figure-img"></p>
<figcaption>R4DS 2nd ed</figcaption>
</figure>
</div>
</section>
<section id="not-ready" class="level2">
<h2 class="anchored" data-anchor-id="not-ready">Not ready?</h2>
<ul>
<li>Restructure for easier and more effective handling</li>
</ul>
</section>
<section id="tidy-data" class="level2">
<h2 class="anchored" data-anchor-id="tidy-data">Tidy data</h2>
<p>An accessible reformulation of existing principles and definitions from statistics and computer science, to ultimately help us structure our data for usability.</p>
<p><br></p>
<div class="rightref">
<div class="refbox">
<p>Wickham (2014)<br>
<a href="https://www.jstatsoft.org/article/view/v059i10/">Tidy Data</a> - Journal of Statistical Software</p>
</div>
</div>
</section>
<section id="tidy-data-1" class="level2">
<h2 class="anchored" data-anchor-id="tidy-data-1">Tidy data</h2>
<ul>
<li><p>Arranged in a 2D data matrix with rows and columns</p></li>
<li><p>Rows correspond to observations</p></li>
<li><p>Columns correspond to variables</p></li>
<li><p>One value per cell</p></li>
</ul>
<div style="text-align: right">
<p>Wickham (2014)<br>
<a href="https://www.jstatsoft.org/article/view/v059i10/">Tidy Data</a> - Journal of Statistical Software</p>
</div>
</section>
<section id="section-4" class="level2">
<h2 class="anchored" data-anchor-id="section-4"></h2>
<p><img src="imgs/varscols.png" class="img-fluid" style="width:90.0%"></p>
</section>
<section id="section-5" class="level2">
<h2 class="anchored" data-anchor-id="section-5"></h2>
<p><img src="imgs/tidydata.png" class="img-fluid"></p>
</section>
<section id="why-tidy" class="level2">
<h2 class="anchored" data-anchor-id="why-tidy">Why tidy?</h2>
<p>Easy to reshape into other structures after cleaning or transforming</p>
<p><img src="imgs/pivotingintro.gif" class="img-fluid"></p>
</section>
<section id="section-6" class="level2">
<h2 class="anchored" data-anchor-id="section-6"></h2>
<div class="columns">
<div class="column" style="width:40%;">
<p><img src="imgs/tidyvarsmap.png" class="img-fluid"></p>
</div><div class="column" style="width:60%;">
<p>Variables feed directly into model specifications and plotting parameters.</p>
</div>
</div>
</section>
<section id="why-not" class="level2">
<h2 class="anchored" data-anchor-id="why-not">Why not</h2>
<ul>
<li><p>Tidy data is more repetitive, often takes up more space than other more condensed representations</p></li>
<li><p>Not ideal for data entry, or for tables that will be embedded in a text document</p></li>
</ul>
</section>
</section>
<section id="data-organization-quick-tips" class="level1">
<h1>Data organization quick tips</h1>
<section id="grouping-information-goes-in-its-own-variable" class="level2">
<h2 class="anchored" data-anchor-id="grouping-information-goes-in-its-own-variable">Grouping information goes in its own variable</h2>
<p>Use indicator variables instead of encoding information into an existing value.</p>
<p><img src="imgs/indgroups.png" class="img-fluid"></p>
</section>
<section id="na-and-empty-values" class="level2">
<h2 class="anchored" data-anchor-id="na-and-empty-values">NA and Empty Values</h2>
<p>Not recorded, not applicable, lost in transcription, etc.</p>
<p><br> <span style="font-size: 1.5em; text-align: center">Missing data are still data</span> <br></p>
<p>In R we use <span style="color:red; font-family: Liberation Mono; font-weight: bold">NA</span>, a special logical constant that denotes missing values</p>
</section>
<section id="section-7" class="level2">
<h2 class="anchored" data-anchor-id="section-7"></h2>
<ul>
<li><p>Code <span style="color:red; font-family: Liberation Mono; font-weight: bold">NA</span> values consistently (if done consistently, blank cells are OK)</p></li>
<li><p>Avoid ambiguity</p></li>
</ul>
<blockquote class="blockquote">
<p>Are data known to be missing, or was a value intentionally left blank?</p>
</blockquote>
<ul>
<li><p>Avoid empty cells as padding to align values, or for aesthetic or layout purposes.</p></li>
<li><p>Avoid <span style="color:red"><code>NA</code></span> values in column headers</p></li>
</ul>
</section>
<section id="section-8" class="level2">
<h2 class="anchored" data-anchor-id="section-8"></h2>
<p><img src="imgs/NAblank.png" class="img-fluid"></p>
</section>
<section id="make-reasonable-headers-column-names" class="level2">
<h2 class="anchored" data-anchor-id="make-reasonable-headers-column-names">Make reasonable headers (column names)</h2>
<section id="uninformative-names-with-inconsistent-naming-schemes" class="level4">
<h4 class="anchored" data-anchor-id="uninformative-names-with-inconsistent-naming-schemes">Uninformative names with inconsistent naming schemes</h4>
<div class="cell">
<div class="cell-output-display">
<div id="ulunzwaifp" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ulunzwaifp table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ulunzwaifp thead, #ulunzwaifp tbody, #ulunzwaifp tfoot, #ulunzwaifp tr, #ulunzwaifp td, #ulunzwaifp th {
  border-style: none;
}

#ulunzwaifp p {
  margin: 0;
  padding: 0;
}

#ulunzwaifp .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ulunzwaifp .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ulunzwaifp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ulunzwaifp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ulunzwaifp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ulunzwaifp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ulunzwaifp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ulunzwaifp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ulunzwaifp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ulunzwaifp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ulunzwaifp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ulunzwaifp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ulunzwaifp .gt_spanner_row {
  border-bottom-style: hidden;
}

#ulunzwaifp .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ulunzwaifp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ulunzwaifp .gt_from_md > :first-child {
  margin-top: 0;
}

#ulunzwaifp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ulunzwaifp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ulunzwaifp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ulunzwaifp .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ulunzwaifp .gt_row_group_first td {
  border-top-width: 2px;
}

#ulunzwaifp .gt_row_group_first th {
  border-top-width: 2px;
}

#ulunzwaifp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ulunzwaifp .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ulunzwaifp .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ulunzwaifp .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ulunzwaifp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ulunzwaifp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ulunzwaifp .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ulunzwaifp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ulunzwaifp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ulunzwaifp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ulunzwaifp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ulunzwaifp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ulunzwaifp .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ulunzwaifp .gt_left {
  text-align: left;
}

#ulunzwaifp .gt_center {
  text-align: center;
}

#ulunzwaifp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ulunzwaifp .gt_font_normal {
  font-weight: normal;
}

#ulunzwaifp .gt_font_bold {
  font-weight: bold;
}

#ulunzwaifp .gt_font_italic {
  font-style: italic;
}

#ulunzwaifp .gt_super {
  font-size: 65%;
}

#ulunzwaifp .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ulunzwaifp .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ulunzwaifp .gt_indent_1 {
  text-indent: 5px;
}

#ulunzwaifp .gt_indent_2 {
  text-indent: 10px;
}

#ulunzwaifp .gt_indent_3 {
  text-indent: 15px;
}

#ulunzwaifp .gt_indent_4 {
  text-indent: 20px;
}

#ulunzwaifp .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="X" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-size: 25px" scope="col">X</th>
<th id="X1" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-size: 25px" scope="col">X1</th>
<th id="X2" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-size: 25px" scope="col">X2</th>
<th id="min_Score" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="font-size: 25px" scope="col">min_Score</th>
<th id="AVERAGE.SCORE" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="font-size: 25px" scope="col">AVERAGE.SCORE</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="X" style="font-size: 25px">UMN</td>
<td class="gt_row gt_left" headers="X1" style="font-size: 25px">EAST</td>
<td class="gt_row gt_left" headers="X2" style="font-size: 25px">A</td>
<td class="gt_row gt_right" headers="min_Score" style="font-size: 25px">7.7</td>
<td class="gt_row gt_right" headers="AVERAGE.SCORE" style="font-size: 25px">7.701</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="X" style="font-size: 25px">UV</td>
<td class="gt_row gt_left" headers="X1" style="font-size: 25px">WEST</td>
<td class="gt_row gt_left" headers="X2" style="font-size: 25px">B</td>
<td class="gt_row gt_right" headers="min_Score" style="font-size: 25px">8.9</td>
<td class="gt_row gt_right" headers="AVERAGE.SCORE" style="font-size: 25px">8.890</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="X" style="font-size: 25px">UNLV</td>
<td class="gt_row gt_left" headers="X1" style="font-size: 25px">EAST</td>
<td class="gt_row gt_left" headers="X2" style="font-size: 25px">C</td>
<td class="gt_row gt_right" headers="min_Score" style="font-size: 25px">9.2</td>
<td class="gt_row gt_right" headers="AVERAGE.SCORE" style="font-size: 25px">9.199</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<ul>
<li><p>More difficult to remember and specify</p></li>
<li><p>Do not sort well</p></li>
</ul>
</section>
</section>
<section id="much-better" class="level2">
<h2 class="anchored" data-anchor-id="much-better">Much better</h2>
<div class="cell">
<div class="cell-output-display">
<div id="nhtgxneeel" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#nhtgxneeel table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#nhtgxneeel thead, #nhtgxneeel tbody, #nhtgxneeel tfoot, #nhtgxneeel tr, #nhtgxneeel td, #nhtgxneeel th {
  border-style: none;
}

#nhtgxneeel p {
  margin: 0;
  padding: 0;
}

#nhtgxneeel .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#nhtgxneeel .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#nhtgxneeel .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#nhtgxneeel .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#nhtgxneeel .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nhtgxneeel .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nhtgxneeel .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nhtgxneeel .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#nhtgxneeel .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#nhtgxneeel .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#nhtgxneeel .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#nhtgxneeel .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#nhtgxneeel .gt_spanner_row {
  border-bottom-style: hidden;
}

#nhtgxneeel .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#nhtgxneeel .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#nhtgxneeel .gt_from_md > :first-child {
  margin-top: 0;
}

#nhtgxneeel .gt_from_md > :last-child {
  margin-bottom: 0;
}

#nhtgxneeel .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#nhtgxneeel .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#nhtgxneeel .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#nhtgxneeel .gt_row_group_first td {
  border-top-width: 2px;
}

#nhtgxneeel .gt_row_group_first th {
  border-top-width: 2px;
}

#nhtgxneeel .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nhtgxneeel .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#nhtgxneeel .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#nhtgxneeel .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nhtgxneeel .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nhtgxneeel .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#nhtgxneeel .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#nhtgxneeel .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#nhtgxneeel .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nhtgxneeel .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nhtgxneeel .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nhtgxneeel .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nhtgxneeel .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nhtgxneeel .gt_left {
  text-align: left;
}

#nhtgxneeel .gt_center {
  text-align: center;
}

#nhtgxneeel .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#nhtgxneeel .gt_font_normal {
  font-weight: normal;
}

#nhtgxneeel .gt_font_bold {
  font-weight: bold;
}

#nhtgxneeel .gt_font_italic {
  font-style: italic;
}

#nhtgxneeel .gt_super {
  font-size: 65%;
}

#nhtgxneeel .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#nhtgxneeel .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#nhtgxneeel .gt_indent_1 {
  text-indent: 5px;
}

#nhtgxneeel .gt_indent_2 {
  text-indent: 10px;
}

#nhtgxneeel .gt_indent_3 {
  text-indent: 15px;
}

#nhtgxneeel .gt_indent_4 {
  text-indent: 20px;
}

#nhtgxneeel .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="university" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-size: 25px" scope="col">university</th>
<th id="coast" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-size: 25px" scope="col">coast</th>
<th id="division" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-size: 25px" scope="col">division</th>
<th id="min_score" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="font-size: 25px" scope="col">min_score</th>
<th id="avg_score" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="font-size: 25px" scope="col">avg_score</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="university" style="font-size: 25px">UMN</td>
<td class="gt_row gt_left" headers="coast" style="font-size: 25px">EAST</td>
<td class="gt_row gt_left" headers="division" style="font-size: 25px">A</td>
<td class="gt_row gt_right" headers="min_score" style="font-size: 25px">7.7</td>
<td class="gt_row gt_right" headers="avg_score" style="font-size: 25px">7.701</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="university" style="font-size: 25px">UV</td>
<td class="gt_row gt_left" headers="coast" style="font-size: 25px">WEST</td>
<td class="gt_row gt_left" headers="division" style="font-size: 25px">B</td>
<td class="gt_row gt_right" headers="min_score" style="font-size: 25px">8.9</td>
<td class="gt_row gt_right" headers="avg_score" style="font-size: 25px">8.890</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="university" style="font-size: 25px">UNLV</td>
<td class="gt_row gt_left" headers="coast" style="font-size: 25px">EAST</td>
<td class="gt_row gt_left" headers="division" style="font-size: 25px">C</td>
<td class="gt_row gt_right" headers="min_score" style="font-size: 25px">9.2</td>
<td class="gt_row gt_right" headers="avg_score" style="font-size: 25px">9.199</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="names-broken-across-rows" class="level2">
<h2 class="anchored" data-anchor-id="names-broken-across-rows">Names broken across rows</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div id="blaywdhuoy" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#blaywdhuoy table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#blaywdhuoy thead, #blaywdhuoy tbody, #blaywdhuoy tfoot, #blaywdhuoy tr, #blaywdhuoy td, #blaywdhuoy th {
  border-style: none;
}

#blaywdhuoy p {
  margin: 0;
  padding: 0;
}

#blaywdhuoy .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#blaywdhuoy .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#blaywdhuoy .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#blaywdhuoy .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#blaywdhuoy .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#blaywdhuoy .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#blaywdhuoy .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#blaywdhuoy .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#blaywdhuoy .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#blaywdhuoy .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#blaywdhuoy .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#blaywdhuoy .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#blaywdhuoy .gt_spanner_row {
  border-bottom-style: hidden;
}

#blaywdhuoy .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#blaywdhuoy .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#blaywdhuoy .gt_from_md > :first-child {
  margin-top: 0;
}

#blaywdhuoy .gt_from_md > :last-child {
  margin-bottom: 0;
}

#blaywdhuoy .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#blaywdhuoy .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#blaywdhuoy .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#blaywdhuoy .gt_row_group_first td {
  border-top-width: 2px;
}

#blaywdhuoy .gt_row_group_first th {
  border-top-width: 2px;
}

#blaywdhuoy .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#blaywdhuoy .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#blaywdhuoy .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#blaywdhuoy .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#blaywdhuoy .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#blaywdhuoy .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#blaywdhuoy .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#blaywdhuoy .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#blaywdhuoy .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#blaywdhuoy .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#blaywdhuoy .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#blaywdhuoy .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#blaywdhuoy .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#blaywdhuoy .gt_left {
  text-align: left;
}

#blaywdhuoy .gt_center {
  text-align: center;
}

#blaywdhuoy .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#blaywdhuoy .gt_font_normal {
  font-weight: normal;
}

#blaywdhuoy .gt_font_bold {
  font-weight: bold;
}

#blaywdhuoy .gt_font_italic {
  font-style: italic;
}

#blaywdhuoy .gt_super {
  font-size: 65%;
}

#blaywdhuoy .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#blaywdhuoy .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#blaywdhuoy .gt_indent_1 {
  text-indent: 5px;
}

#blaywdhuoy .gt_indent_2 {
  text-indent: 10px;
}

#blaywdhuoy .gt_indent_3 {
  text-indent: 15px;
}

#blaywdhuoy .gt_indent_4 {
  text-indent: 20px;
}

#blaywdhuoy .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="X" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-size: 24px" scope="col">X</th>
<th id="X1" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-size: 24px" scope="col">X1</th>
<th id="X2" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-size: 24px" scope="col">X2</th>
<th id="min" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-size: 24px" scope="col">min</th>
<th id="AVERAGE" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-size: 24px" scope="col">AVERAGE</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="X" style="font-size: 24px">NA</td>
<td class="gt_row gt_left" headers="X1" style="font-size: 24px">NA</td>
<td class="gt_row gt_left" headers="X2" style="font-size: 24px">NA</td>
<td class="gt_row gt_left" headers="min" style="font-size: 24px">Score</td>
<td class="gt_row gt_left" headers="AVERAGE" style="font-size: 24px">SCORE</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="X" style="font-size: 24px">UMN</td>
<td class="gt_row gt_left" headers="X1" style="font-size: 24px">EAST</td>
<td class="gt_row gt_left" headers="X2" style="font-size: 24px">A</td>
<td class="gt_row gt_left" headers="min" style="font-size: 24px">7.7</td>
<td class="gt_row gt_left" headers="AVERAGE" style="font-size: 24px">7.701</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="X" style="font-size: 24px">UV</td>
<td class="gt_row gt_left" headers="X1" style="font-size: 24px">WEST</td>
<td class="gt_row gt_left" headers="X2" style="font-size: 24px">B</td>
<td class="gt_row gt_left" headers="min" style="font-size: 24px">8.9</td>
<td class="gt_row gt_left" headers="AVERAGE" style="font-size: 24px">8.89</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="X" style="font-size: 24px">UNLV</td>
<td class="gt_row gt_left" headers="X1" style="font-size: 24px">EAST</td>
<td class="gt_row gt_left" headers="X2" style="font-size: 24px">C</td>
<td class="gt_row gt_left" headers="min" style="font-size: 24px">9.2</td>
<td class="gt_row gt_left" headers="AVERAGE" style="font-size: 24px">9.199</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<p>Variable names appear in &gt;1 rows</p>
<p>Header fragments mixed with data</p>
<p>Separators become implicit</p>
<p><code>NAs</code> introduced</p>
</div>
</div>
</section>
</section>
<section id="data-sharing-best-practices" class="level1">
<h1>Data sharing best practices</h1>
<section id="data-can-be-intuitive-easy-to-read-and-machine-readable-if-shared-adequately" class="level2">
<h2 class="anchored" data-anchor-id="data-can-be-intuitive-easy-to-read-and-machine-readable-if-shared-adequately">Data can be intuitive, easy to read AND machine-readable if shared adequately</h2>
<p>‚Üò Reduce the need for complex/proprietary software or advanced programming skills for inclusion in future analyses.</p>
<p><br></p>
<p>‚Üò Minimize the amount of interpretation needed to use the data.</p>
</section>
</section>
<section id="tools-for-data-wrangling" class="level1">
<h1>Tools for data wrangling</h1>
<section id="functions-and-packages-to-prepare-transform-and-reshape-data" class="level2">
<h2 class="anchored" data-anchor-id="functions-and-packages-to-prepare-transform-and-reshape-data">Functions and packages to prepare, transform, and reshape data</h2>
<div class="columns">
<div class="column" style="width:20%;">
<p>üì¶ <strong><code>dplyr</code></strong><br>
üì¶ <strong><code>tidyr</code></strong></p>
</div><div class="column" style="width:80%;">
<p>Flexible and powerful</p>
<ul>
<li>Failsafes against accidental misuse</li>
<li>Concise code</li>
<li>Shared grammar and data structures</li>
<li>Tasks split up across functions and packages</li>
<li>pipe-friendly</li>
</ul>
</div>
</div>
</section>
<section id="handy-dplyr-functions" class="level2">
<h2 class="anchored" data-anchor-id="handy-dplyr-functions">Handy üì¶ <code>dplyr</code> functions</h2>
<ul>
<li><p>Intuitive, user-friendly functions for common data manipulation tasks:</p>
<ul>
<li><p>Subset columns</p></li>
<li><p>Subset rows</p></li>
<li><p>Create or modify columns</p></li>
</ul></li>
<li><p>Each function does one only thing, but does it well</p></li>
</ul>
</section>
<section id="section-9" class="level2">
<h2 class="anchored" data-anchor-id="section-9"></h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Megadiverse countries</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Data</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<div class="cell-output-display">
<div id="qkqumgyymg" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#qkqumgyymg table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#qkqumgyymg thead, #qkqumgyymg tbody, #qkqumgyymg tfoot, #qkqumgyymg tr, #qkqumgyymg td, #qkqumgyymg th {
  border-style: none;
}

#qkqumgyymg p {
  margin: 0;
  padding: 0;
}

#qkqumgyymg .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#qkqumgyymg .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#qkqumgyymg .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#qkqumgyymg .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#qkqumgyymg .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qkqumgyymg .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qkqumgyymg .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#qkqumgyymg .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#qkqumgyymg .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#qkqumgyymg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#qkqumgyymg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#qkqumgyymg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#qkqumgyymg .gt_spanner_row {
  border-bottom-style: hidden;
}

#qkqumgyymg .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#qkqumgyymg .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#qkqumgyymg .gt_from_md > :first-child {
  margin-top: 0;
}

#qkqumgyymg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#qkqumgyymg .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#qkqumgyymg .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#qkqumgyymg .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#qkqumgyymg .gt_row_group_first td {
  border-top-width: 2px;
}

#qkqumgyymg .gt_row_group_first th {
  border-top-width: 2px;
}

#qkqumgyymg .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qkqumgyymg .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#qkqumgyymg .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#qkqumgyymg .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qkqumgyymg .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#qkqumgyymg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#qkqumgyymg .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#qkqumgyymg .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#qkqumgyymg .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#qkqumgyymg .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qkqumgyymg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qkqumgyymg .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#qkqumgyymg .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#qkqumgyymg .gt_left {
  text-align: left;
}

#qkqumgyymg .gt_center {
  text-align: center;
}

#qkqumgyymg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#qkqumgyymg .gt_font_normal {
  font-weight: normal;
}

#qkqumgyymg .gt_font_bold {
  font-weight: bold;
}

#qkqumgyymg .gt_font_italic {
  font-style: italic;
}

#qkqumgyymg .gt_super {
  font-size: 65%;
}

#qkqumgyymg .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#qkqumgyymg .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#qkqumgyymg .gt_indent_1 {
  text-indent: 5px;
}

#qkqumgyymg .gt_indent_2 {
  text-indent: 10px;
}

#qkqumgyymg .gt_indent_3 {
  text-indent: 15px;
}

#qkqumgyymg .gt_indent_4 {
  text-indent: 20px;
}

#qkqumgyymg .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="cntry" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-size: 21px" scope="col">cntry</th>
<th id="species" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="font-size: 21px" scope="col">species</th>
<th id="threatened" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="font-size: 21px" scope="col">threatened</th>
<th id="region" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-size: 21px" scope="col">region</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="cntry" style="font-size: 21px">Indonesia</td>
<td class="gt_row gt_right" headers="species" style="font-size: 21px">670</td>
<td class="gt_row gt_right" headers="threatened" style="font-size: 21px">191</td>
<td class="gt_row gt_left" headers="region" style="font-size: 21px">Asia</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="cntry" style="font-size: 21px">Brasil</td>
<td class="gt_row gt_right" headers="species" style="font-size: 21px">648</td>
<td class="gt_row gt_right" headers="threatened" style="font-size: 21px">80</td>
<td class="gt_row gt_left" headers="region" style="font-size: 21px">America</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="cntry" style="font-size: 21px">China</td>
<td class="gt_row gt_right" headers="species" style="font-size: 21px">551</td>
<td class="gt_row gt_right" headers="threatened" style="font-size: 21px">73</td>
<td class="gt_row gt_left" headers="region" style="font-size: 21px">Asia</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="cntry" style="font-size: 21px">Mexico</td>
<td class="gt_row gt_right" headers="species" style="font-size: 21px">523</td>
<td class="gt_row gt_right" headers="threatened" style="font-size: 21px">96</td>
<td class="gt_row gt_left" headers="region" style="font-size: 21px">America</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="cntry" style="font-size: 21px">Peru</td>
<td class="gt_row gt_right" headers="species" style="font-size: 21px">467</td>
<td class="gt_row gt_right" headers="threatened" style="font-size: 21px">53</td>
<td class="gt_row gt_left" headers="region" style="font-size: 21px">America</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="cntry" style="font-size: 21px">Congo</td>
<td class="gt_row gt_right" headers="species" style="font-size: 21px">430</td>
<td class="gt_row gt_right" headers="threatened" style="font-size: 21px">15</td>
<td class="gt_row gt_left" headers="region" style="font-size: 21px">Africa</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="cntry" style="font-size: 21px">India</td>
<td class="gt_row gt_right" headers="species" style="font-size: 21px">412</td>
<td class="gt_row gt_right" headers="threatened" style="font-size: 21px">93</td>
<td class="gt_row gt_left" headers="region" style="font-size: 21px">Asia</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="cntry" style="font-size: 21px">Kenya</td>
<td class="gt_row gt_right" headers="species" style="font-size: 21px">376</td>
<td class="gt_row gt_right" headers="threatened" style="font-size: 21px">30</td>
<td class="gt_row gt_left" headers="region" style="font-size: 21px">Africa</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="cntry" style="font-size: 21px">Argentina</td>
<td class="gt_row gt_right" headers="species" style="font-size: 21px">374</td>
<td class="gt_row gt_right" headers="threatened" style="font-size: 21px">38</td>
<td class="gt_row gt_left" headers="region" style="font-size: 21px">America</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="cntry" style="font-size: 21px">Ecuador</td>
<td class="gt_row gt_right" headers="species" style="font-size: 21px">372</td>
<td class="gt_row gt_right" headers="threatened" style="font-size: 21px">47</td>
<td class="gt_row gt_left" headers="region" style="font-size: 21px">America</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="cntry" style="font-size: 21px">Venezuela</td>
<td class="gt_row gt_right" headers="species" style="font-size: 21px">363</td>
<td class="gt_row gt_right" headers="threatened" style="font-size: 21px">35</td>
<td class="gt_row gt_left" headers="region" style="font-size: 21px">America</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="cntry" style="font-size: 21px">Tanzania</td>
<td class="gt_row gt_right" headers="species" style="font-size: 21px">359</td>
<td class="gt_row gt_right" headers="threatened" style="font-size: 21px">41</td>
<td class="gt_row gt_left" headers="region" style="font-size: 21px">Africa</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>mcountries <span class="ot">&lt;-</span> </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span>cntry,   <span class="sc">~</span>species, <span class="sc">~</span>threatened,   <span class="sc">~</span>region,</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Indonesia"</span>,      <span class="dv">670</span>L,        <span class="dv">191</span>L,    <span class="st">"Asia"</span>,</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>     <span class="st">"Brasil"</span>,      <span class="dv">648</span>L,         <span class="dv">80</span>L, <span class="st">"America"</span>,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">"China"</span>,      <span class="dv">551</span>L,         <span class="dv">73</span>L,    <span class="st">"Asia"</span>,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>     <span class="st">"Mexico"</span>,      <span class="dv">523</span>L,         <span class="dv">96</span>L, <span class="st">"America"</span>,</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>       <span class="st">"Peru"</span>,      <span class="dv">467</span>L,         <span class="dv">53</span>L, <span class="st">"America"</span>,</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Congo"</span>,      <span class="dv">430</span>L,         <span class="dv">15</span>L,  <span class="st">"Africa"</span>,</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">"India"</span>,      <span class="dv">412</span>L,         <span class="dv">93</span>L,    <span class="st">"Asia"</span>,</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Kenya"</span>,      <span class="dv">376</span>L,         <span class="dv">30</span>L,  <span class="st">"Africa"</span>,</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Argentina"</span>,      <span class="dv">374</span>L,         <span class="dv">38</span>L, <span class="st">"America"</span>,</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Ecuador"</span>,      <span class="dv">372</span>L,         <span class="dv">47</span>L, <span class="st">"America"</span>,</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Venezuela"</span>,      <span class="dv">363</span>L,         <span class="dv">35</span>L, <span class="st">"America"</span>,</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>   <span class="st">"Tanzania"</span>,      <span class="dv">359</span>L,         <span class="dv">41</span>L,  <span class="st">"Africa"</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="select" class="level2">
<h2 class="anchored" data-anchor-id="select"><code>select()</code></h2>
<div class="columns">
<div class="column" style="width:30%;">
<section id="subset-variables" class="level4">
<h4 class="anchored" data-anchor-id="subset-variables">Subset variables</h4>
<ul>
<li>by name<br>
</li>
<li>by position<br>
</li>
<li>by type<br>
</li>
</ul>
</section>
</div><div class="column" style="width:70%;">
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>mcountries <span class="sc">%&gt;%</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(cntry,</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>         threatened) <span class="sc">%&gt;%</span> </span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 √ó 2
  cntry     threatened
  &lt;chr&gt;          &lt;int&gt;
1 Indonesia        191
2 Brasil            80
3 China             73
4 Mexico            96</code></pre>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="mutate" class="level2">
<h2 class="anchored" data-anchor-id="mutate"><code>mutate()</code></h2>
<div class="columns">
<div class="column" style="width:35%;">
<section id="create-and-modify-columns" class="level4">
<h4 class="anchored" data-anchor-id="create-and-modify-columns">Create and modify columns</h4>
<ul>
<li>create new<br>
</li>
<li>overwrite<br>
</li>
</ul>
</section>
</div><div class="column" style="width:65%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>mcountries <span class="sc">%&gt;%</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(cntry, threatened) <span class="sc">%&gt;%</span> </span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">logthreat =</span> <span class="fu">log</span>(threatened)) <span class="sc">%&gt;%</span> </span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 3
  cntry     threatened logthreat
  &lt;chr&gt;          &lt;int&gt;     &lt;dbl&gt;
1 Indonesia        191      5.25
2 Brasil            80      4.38
3 China             73      4.29
4 Mexico            96      4.56
5 Peru              53      3.97</code></pre>
</div>
</div>
</div>
</div>
<p>We can control where the new column will appear with <code>.before</code> and <code>.after</code></p>
</section>
<section id="filter" class="level2">
<h2 class="anchored" data-anchor-id="filter"><code>filter()</code></h2>
<section id="subset-rows" class="level4">
<h4 class="anchored" data-anchor-id="subset-rows">Subset rows</h4>
<p>Keep only the rows that meet a condition</p>
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>mcountries <span class="sc">%&gt;%</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(cntry, species, threatened) <span class="sc">%&gt;%</span> </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(threatened <span class="sc">&gt;</span> <span class="dv">75</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 √ó 3
  cntry     species threatened
  &lt;chr&gt;       &lt;int&gt;      &lt;int&gt;
1 Indonesia     670        191
2 Brasil        648         80
3 Mexico        523         96
4 India         412         93</code></pre>
</div>
</div>
</div>
</section>
</section>
<section id="rename" class="level2">
<h2 class="anchored" data-anchor-id="rename"><code>rename()</code></h2>
<section id="modify-column-names" class="level4">
<h4 class="anchored" data-anchor-id="modify-column-names">Modify column names</h4>
<p>New name first <em>then</em> target column</p>
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>mcountries <span class="sc">%&gt;%</span> </span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">pais=</span>cntry,</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">especies=</span>species,</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">amenazadas=</span>threatened) <span class="sc">%&gt;%</span> </span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 4
  pais      especies amenazadas region 
  &lt;chr&gt;        &lt;int&gt;      &lt;int&gt; &lt;chr&gt;  
1 Indonesia      670        191 Asia   
2 Brasil         648         80 America
3 China          551         73 Asia   </code></pre>
</div>
</div>
</div>
</section>
</section>
<section id="relocate" class="level2">
<h2 class="anchored" data-anchor-id="relocate"><code>relocate()</code></h2>
<section id="move-variables-to-new-locations" class="level4">
<h4 class="anchored" data-anchor-id="move-variables-to-new-locations">Move variables to new locations</h4>
<p>Use <code>.before</code> or <code>.after</code> to define placement</p>
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>mcountries <span class="sc">%&gt;%</span> </span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(region, <span class="at">.after=</span>cntry) <span class="sc">%&gt;%</span> </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 4
  cntry     region  species threatened
  &lt;chr&gt;     &lt;chr&gt;     &lt;int&gt;      &lt;int&gt;
1 Indonesia Asia        670        191
2 Brasil    America     648         80
3 China     Asia        551         73</code></pre>
</div>
</div>
</div>
<p><em><code>.after</code> can also refer to positions</em></p>
</section>
</section>
<section id="exporting-tables" class="level2">
<h2 class="anchored" data-anchor-id="exporting-tables">Exporting tables</h2>
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>relocatedAf <span class="ot">&lt;-</span> </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a> mcountries <span class="sc">%&gt;%</span> </span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(region, <span class="at">.after=</span>cntry) <span class="sc">%&gt;%</span> </span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(region<span class="sc">==</span><span class="st">"Africa"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>Export with a <code>write</code> function, providing an object and a file path e.g., <code>write.csv(relocatedAf,"Africa.csv")</code></p>
</section>
</section>
<section id="wrangling-na-values" class="level1">
<h1>Wrangling <code>NA</code> values</h1>
<section id="section-10" class="level2">
<h2 class="anchored" data-anchor-id="section-10"></h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Universities</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Data</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<div class="cell-output-display">
<div id="xavpxhnxfh" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#xavpxhnxfh table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#xavpxhnxfh thead, #xavpxhnxfh tbody, #xavpxhnxfh tfoot, #xavpxhnxfh tr, #xavpxhnxfh td, #xavpxhnxfh th {
  border-style: none;
}

#xavpxhnxfh p {
  margin: 0;
  padding: 0;
}

#xavpxhnxfh .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#xavpxhnxfh .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#xavpxhnxfh .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#xavpxhnxfh .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#xavpxhnxfh .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xavpxhnxfh .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xavpxhnxfh .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xavpxhnxfh .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xavpxhnxfh .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xavpxhnxfh .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xavpxhnxfh .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xavpxhnxfh .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xavpxhnxfh .gt_spanner_row {
  border-bottom-style: hidden;
}

#xavpxhnxfh .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#xavpxhnxfh .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xavpxhnxfh .gt_from_md > :first-child {
  margin-top: 0;
}

#xavpxhnxfh .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xavpxhnxfh .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xavpxhnxfh .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#xavpxhnxfh .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#xavpxhnxfh .gt_row_group_first td {
  border-top-width: 2px;
}

#xavpxhnxfh .gt_row_group_first th {
  border-top-width: 2px;
}

#xavpxhnxfh .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xavpxhnxfh .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#xavpxhnxfh .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#xavpxhnxfh .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xavpxhnxfh .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xavpxhnxfh .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xavpxhnxfh .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#xavpxhnxfh .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#xavpxhnxfh .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xavpxhnxfh .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xavpxhnxfh .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xavpxhnxfh .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xavpxhnxfh .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xavpxhnxfh .gt_left {
  text-align: left;
}

#xavpxhnxfh .gt_center {
  text-align: center;
}

#xavpxhnxfh .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xavpxhnxfh .gt_font_normal {
  font-weight: normal;
}

#xavpxhnxfh .gt_font_bold {
  font-weight: bold;
}

#xavpxhnxfh .gt_font_italic {
  font-style: italic;
}

#xavpxhnxfh .gt_super {
  font-size: 65%;
}

#xavpxhnxfh .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#xavpxhnxfh .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#xavpxhnxfh .gt_indent_1 {
  text-indent: 5px;
}

#xavpxhnxfh .gt_indent_2 {
  text-indent: 10px;
}

#xavpxhnxfh .gt_indent_3 {
  text-indent: 15px;
}

#xavpxhnxfh .gt_indent_4 {
  text-indent: 20px;
}

#xavpxhnxfh .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="ID" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="font-size: 14px" scope="col">ID</th>
<th id="Institution" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-size: 14px" scope="col">Institution</th>
<th id="year" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" style="font-size: 14px" scope="col">year</th>
<th id="ZIP.code" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="font-size: 14px" scope="col">ZIP.code</th>
<th id="Highest.degree.offered" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-size: 14px" scope="col">Highest.degree.offered</th>
<th id="County.name" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" style="font-size: 14px" scope="col">County.name</th>
<th id="Religious.affiliation" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-size: 14px" scope="col">Religious.affiliation</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="ID" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Institution" style="font-size: 14px">NA</td>
<td class="gt_row gt_center" headers="year" style="font-size: 14px">NA</td>
<td class="gt_row gt_right" headers="ZIP.code" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Highest.degree.offered" style="font-size: 14px">NA</td>
<td class="gt_row gt_center" headers="County.name" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Religious.affiliation" style="font-size: 14px">NA</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="ID" style="font-size: 14px">100663</td>
<td class="gt_row gt_left" headers="Institution" style="font-size: 14px">University of Alabama at Birmingham</td>
<td class="gt_row gt_center" headers="year" style="font-size: 14px">NA</td>
<td class="gt_row gt_right" headers="ZIP.code" style="font-size: 14px">35294-0110</td>
<td class="gt_row gt_left" headers="Highest.degree.offered" style="font-size: 14px">Doctor's degree</td>
<td class="gt_row gt_center" headers="County.name" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Religious.affiliation" style="font-size: 14px">Not applicable</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="ID" style="font-size: 14px">100690</td>
<td class="gt_row gt_left" headers="Institution" style="font-size: 14px">Amridge University</td>
<td class="gt_row gt_center" headers="year" style="font-size: 14px">NA</td>
<td class="gt_row gt_right" headers="ZIP.code" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Highest.degree.offered" style="font-size: 14px">Doctor's degree</td>
<td class="gt_row gt_center" headers="County.name" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Religious.affiliation" style="font-size: 14px">Churches of Christ</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="ID" style="font-size: 14px">100706</td>
<td class="gt_row gt_left" headers="Institution" style="font-size: 14px">University of Alabama in Huntsville</td>
<td class="gt_row gt_center" headers="year" style="font-size: 14px">NA</td>
<td class="gt_row gt_right" headers="ZIP.code" style="font-size: 14px">35899</td>
<td class="gt_row gt_left" headers="Highest.degree.offered" style="font-size: 14px">Doctor's degree</td>
<td class="gt_row gt_center" headers="County.name" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Religious.affiliation" style="font-size: 14px">Not applicable</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="ID" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Institution" style="font-size: 14px">NA</td>
<td class="gt_row gt_center" headers="year" style="font-size: 14px">NA</td>
<td class="gt_row gt_right" headers="ZIP.code" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Highest.degree.offered" style="font-size: 14px">NA</td>
<td class="gt_row gt_center" headers="County.name" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Religious.affiliation" style="font-size: 14px">NA</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="ID" style="font-size: 14px">100751</td>
<td class="gt_row gt_left" headers="Institution" style="font-size: 14px">The University of Alabama</td>
<td class="gt_row gt_center" headers="year" style="font-size: 14px">NA</td>
<td class="gt_row gt_right" headers="ZIP.code" style="font-size: 14px">35487-0166</td>
<td class="gt_row gt_left" headers="Highest.degree.offered" style="font-size: 14px">Doctor's degree</td>
<td class="gt_row gt_center" headers="County.name" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Religious.affiliation" style="font-size: 14px">Not applicable</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="ID" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Institution" style="font-size: 14px">NA</td>
<td class="gt_row gt_center" headers="year" style="font-size: 14px">NA</td>
<td class="gt_row gt_right" headers="ZIP.code" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Highest.degree.offered" style="font-size: 14px">NA</td>
<td class="gt_row gt_center" headers="County.name" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Religious.affiliation" style="font-size: 14px">NA</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="ID" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Institution" style="font-size: 14px">NA</td>
<td class="gt_row gt_center" headers="year" style="font-size: 14px">NA</td>
<td class="gt_row gt_right" headers="ZIP.code" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Highest.degree.offered" style="font-size: 14px">NA</td>
<td class="gt_row gt_center" headers="County.name" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Religious.affiliation" style="font-size: 14px">NA</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="ID" style="font-size: 14px">101541</td>
<td class="gt_row gt_left" headers="Institution" style="font-size: 14px">Judson College</td>
<td class="gt_row gt_center" headers="year" style="font-size: 14px">NA</td>
<td class="gt_row gt_right" headers="ZIP.code" style="font-size: 14px">36756</td>
<td class="gt_row gt_left" headers="Highest.degree.offered" style="font-size: 14px">Bachelor's degree</td>
<td class="gt_row gt_center" headers="County.name" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Religious.affiliation" style="font-size: 14px">NA</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="ID" style="font-size: 14px">101587</td>
<td class="gt_row gt_left" headers="Institution" style="font-size: 14px">University of West Alabama</td>
<td class="gt_row gt_center" headers="year" style="font-size: 14px">NA</td>
<td class="gt_row gt_right" headers="ZIP.code" style="font-size: 14px">35470</td>
<td class="gt_row gt_left" headers="Highest.degree.offered" style="font-size: 14px">Master's degree</td>
<td class="gt_row gt_center" headers="County.name" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Religious.affiliation" style="font-size: 14px">Not applicable</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="ID" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Institution" style="font-size: 14px">NA</td>
<td class="gt_row gt_center" headers="year" style="font-size: 14px">NA</td>
<td class="gt_row gt_right" headers="ZIP.code" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Highest.degree.offered" style="font-size: 14px">NA</td>
<td class="gt_row gt_center" headers="County.name" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Religious.affiliation" style="font-size: 14px">NA</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="ID" style="font-size: 14px">101693</td>
<td class="gt_row gt_left" headers="Institution" style="font-size: 14px">University of Mobile</td>
<td class="gt_row gt_center" headers="year" style="font-size: 14px">NA</td>
<td class="gt_row gt_right" headers="ZIP.code" style="font-size: 14px">36613-2842</td>
<td class="gt_row gt_left" headers="Highest.degree.offered" style="font-size: 14px">Master's degree</td>
<td class="gt_row gt_center" headers="County.name" style="font-size: 14px">NA</td>
<td class="gt_row gt_left" headers="Religious.affiliation" style="font-size: 14px">Southern Baptist</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>universities <span class="ot">&lt;-</span> </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>        <span class="sc">~</span>ID,                          <span class="sc">~</span>Institution, <span class="sc">~</span>year,    <span class="sc">~</span>ZIP.code, <span class="sc">~</span>Highest.degree.offered, <span class="sc">~</span>County.name, <span class="sc">~</span>Religious.affiliation,</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>         <span class="cn">NA</span>,                                    <span class="cn">NA</span>,    <span class="cn">NA</span>,           <span class="cn">NA</span>,                      <span class="cn">NA</span>,           <span class="cn">NA</span>,                     <span class="cn">NA</span>,</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">100663</span>L, <span class="st">"University of Alabama at Birmingham"</span>,    <span class="cn">NA</span>, <span class="st">"35294-0110"</span>,       <span class="st">"Doctor's degree"</span>,           <span class="cn">NA</span>,       <span class="st">"Not applicable"</span>,</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">100690</span>L,                  <span class="st">"Amridge University"</span>,    <span class="cn">NA</span>, <span class="cn">NA</span>,       <span class="st">"Doctor's degree"</span>,           <span class="cn">NA</span>,   <span class="st">"Churches of Christ"</span>,</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>    <span class="dv">100706</span>L, <span class="st">"University of Alabama in Huntsville"</span>,    <span class="cn">NA</span>,      <span class="st">"35899"</span>,       <span class="st">"Doctor's degree"</span>,           <span class="cn">NA</span>,       <span class="st">"Not applicable"</span>,</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>         <span class="cn">NA</span>,                                    <span class="cn">NA</span>,    <span class="cn">NA</span>,           <span class="cn">NA</span>,                      <span class="cn">NA</span>,           <span class="cn">NA</span>,                     <span class="cn">NA</span>,</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>    <span class="dv">100751</span>L,           <span class="st">"The University of Alabama"</span>,    <span class="cn">NA</span>, <span class="st">"35487-0166"</span>,       <span class="st">"Doctor's degree"</span>,           <span class="cn">NA</span>,       <span class="st">"Not applicable"</span>,</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>         <span class="cn">NA</span>,                                    <span class="cn">NA</span>,    <span class="cn">NA</span>,           <span class="cn">NA</span>,                      <span class="cn">NA</span>,           <span class="cn">NA</span>,                     <span class="cn">NA</span>,</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>         <span class="cn">NA</span>,                                    <span class="cn">NA</span>,    <span class="cn">NA</span>,           <span class="cn">NA</span>,                      <span class="cn">NA</span>,           <span class="cn">NA</span>,                     <span class="cn">NA</span>,</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>    <span class="dv">101541</span>L,                      <span class="st">"Judson College"</span>,    <span class="cn">NA</span>,      <span class="st">"36756"</span>,     <span class="st">"Bachelor's degree"</span>,           <span class="cn">NA</span>,              <span class="cn">NA</span>,</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>    <span class="dv">101587</span>L,          <span class="st">"University of West Alabama"</span>,    <span class="cn">NA</span>,      <span class="st">"35470"</span>,       <span class="st">"Master's degree"</span>,           <span class="cn">NA</span>,       <span class="st">"Not applicable"</span>,</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>         <span class="cn">NA</span>,                                    <span class="cn">NA</span>,    <span class="cn">NA</span>,           <span class="cn">NA</span>,                      <span class="cn">NA</span>,           <span class="cn">NA</span>,                     <span class="cn">NA</span>,</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>    <span class="dv">101693</span>L,                <span class="st">"University of Mobile"</span>,    <span class="cn">NA</span>, <span class="st">"36613-2842"</span>,       <span class="st">"Master's degree"</span>,           <span class="cn">NA</span>,     <span class="st">"Southern Baptist"</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="useful-functions-and-packages-for-missing-data" class="level2">
<h2 class="anchored" data-anchor-id="useful-functions-and-packages-for-missing-data">Useful functions and packages for missing data</h2>
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(naniar) <span class="co"># useful but not used in today's session</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="remove-empty-rows-or-columns" class="level2">
<h2 class="anchored" data-anchor-id="remove-empty-rows-or-columns">Remove empty rows or columns</h2>
<p>Remove rows or columns with all <code>NA</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>universities <span class="sc">%&gt;%</span> </span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">remove_empty</span>(<span class="fu">c</span>(<span class="st">"rows"</span>,<span class="st">"cols"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 √ó 5
      ID Institution       ZIP.code Highest.degree.offered Religious.affiliation
   &lt;int&gt; &lt;chr&gt;             &lt;chr&gt;    &lt;chr&gt;                  &lt;chr&gt;                
1 100663 University of Al‚Ä¶ 35294-0‚Ä¶ Doctor's degree        Not applicable       
2 100690 Amridge Universi‚Ä¶ &lt;NA&gt;     Doctor's degree        Churches of Christ   
3 100706 University of Al‚Ä¶ 35899    Doctor's degree        Not applicable       
4 100751 The University o‚Ä¶ 35487-0‚Ä¶ Doctor's degree        Not applicable       
5 101541 Judson College    36756    Bachelor's degree      &lt;NA&gt;                 
6 101587 University of We‚Ä¶ 35470    Master's degree        Not applicable       
7 101693 University of Mo‚Ä¶ 36613-2‚Ä¶ Master's degree        Southern Baptist     </code></pre>
</div>
</div>
</section>
<section id="filtering-rows-with-missing-data" class="level2">
<h2 class="anchored" data-anchor-id="filtering-rows-with-missing-data">Filtering rows with missing data</h2>
<p>Find rows in column that are NA</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>universities <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="fu">is.na</span>(ZIP.code))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 7
      ID Institution        year  ZIP.code Highest.degree.offered County.name
   &lt;int&gt; &lt;chr&gt;              &lt;lgl&gt; &lt;chr&gt;    &lt;chr&gt;                  &lt;lgl&gt;      
1     NA &lt;NA&gt;               NA    &lt;NA&gt;     &lt;NA&gt;                   NA         
2 100690 Amridge University NA    &lt;NA&gt;     Doctor's degree        NA         
3     NA &lt;NA&gt;               NA    &lt;NA&gt;     &lt;NA&gt;                   NA         
4     NA &lt;NA&gt;               NA    &lt;NA&gt;     &lt;NA&gt;                   NA         
5     NA &lt;NA&gt;               NA    &lt;NA&gt;     &lt;NA&gt;                   NA         
6     NA &lt;NA&gt;               NA    &lt;NA&gt;     &lt;NA&gt;                   NA         
# ‚Ñπ 1 more variable: Religious.affiliation &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="filtering-rows-with-missing-data-1" class="level2">
<h2 class="anchored" data-anchor-id="filtering-rows-with-missing-data-1">Filtering rows with missing data</h2>
<p>Negate condition and discard NAs in variable</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>universities <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(ZIP.code))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 7
      ID Institution           year  ZIP.code Highest.degree.offered County.name
   &lt;int&gt; &lt;chr&gt;                 &lt;lgl&gt; &lt;chr&gt;    &lt;chr&gt;                  &lt;lgl&gt;      
1 100663 University of Alabam‚Ä¶ NA    35294-0‚Ä¶ Doctor's degree        NA         
2 100706 University of Alabam‚Ä¶ NA    35899    Doctor's degree        NA         
3 100751 The University of Al‚Ä¶ NA    35487-0‚Ä¶ Doctor's degree        NA         
4 101541 Judson College        NA    36756    Bachelor's degree      NA         
5 101587 University of West A‚Ä¶ NA    35470    Master's degree        NA         
6 101693 University of Mobile  NA    36613-2‚Ä¶ Master's degree        NA         
# ‚Ñπ 1 more variable: Religious.affiliation &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="replace-nas-with-something-else" class="level2">
<h2 class="anchored" data-anchor-id="replace-nas-with-something-else">Replace NAs with something else</h2>
<p><code>replace_na()</code> from <code>tidyr</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>universities <span class="sc">%&gt;%</span> </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">ZIP.code=</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>           <span class="fu">replace_na</span>(ZIP.code,<span class="st">"pending"</span>)) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 √ó 7
      ID Institution           year  ZIP.code Highest.degree.offered County.name
   &lt;int&gt; &lt;chr&gt;                 &lt;lgl&gt; &lt;chr&gt;    &lt;chr&gt;                  &lt;lgl&gt;      
1     NA &lt;NA&gt;                  NA    pending  &lt;NA&gt;                   NA         
2 100663 University of Alabam‚Ä¶ NA    35294-0‚Ä¶ Doctor's degree        NA         
3 100690 Amridge University    NA    pending  Doctor's degree        NA         
4 100706 University of Alabam‚Ä¶ NA    35899    Doctor's degree        NA         
# ‚Ñπ 1 more variable: Religious.affiliation &lt;chr&gt;</code></pre>
</div>
</div>
</section>
<section id="drop-rows-that-include-at-least-1-na" class="level2">
<h2 class="anchored" data-anchor-id="drop-rows-that-include-at-least-1-na">Drop rows that include at least 1 <code>NA</code></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>universities <span class="sc">%&gt;%</span> </span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">remove_empty</span>(<span class="st">"cols"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 √ó 5
      ID Institution       ZIP.code Highest.degree.offered Religious.affiliation
   &lt;int&gt; &lt;chr&gt;             &lt;chr&gt;    &lt;chr&gt;                  &lt;chr&gt;                
1 100663 University of Al‚Ä¶ 35294-0‚Ä¶ Doctor's degree        Not applicable       
2 100706 University of Al‚Ä¶ 35899    Doctor's degree        Not applicable       
3 100751 The University o‚Ä¶ 35487-0‚Ä¶ Doctor's degree        Not applicable       
4 101587 University of We‚Ä¶ 35470    Master's degree        Not applicable       
5 101693 University of Mo‚Ä¶ 36613-2‚Ä¶ Master's degree        Southern Baptist     </code></pre>
</div>
</div>
</section>
<section id="practice---package-datasets-1" class="level2" data-background-color="#a4c5ff">
<h2 data-background-color="#a4c5ff" class="anchored" data-anchor-id="practice---package-datasets-1">Practice - Package datasets (1)</h2>
<p><br></p>
<p><span style="color:##7b7bb4; font-weight=bold"><code>data()</code></span> loads or lists available datasets in our installed packages <br></p>
<p><span style="color:##7b7bb4; font-weight=bold"><code>data()</code></span> with no arguments shows every dataset currently available</p>
</section>
<section id="practice---package-datasets-2" class="level2" data-background-color="#a4c5ff">
<h2 data-background-color="#a4c5ff" class="anchored" data-anchor-id="practice---package-datasets-2">Practice - Package datasets (2)</h2>
<p>We can also specify which package we want to examine for bundled data:</p>
<p><span style="font-size: 1.5em; text-align: center"><code>data(package="ggplot2")</code></span></p>
<p><span style="font-size: 1.5em; text-align: center"><code>data(package="datasets")</code></span></p>
<p><span style="font-size: 1.5em; text-align: center"><code>data(package="tidyr")</code></span></p>
</section>
<section id="practice---package-datasets-3" class="level2" data-background-color="#a4c5ff">
<h2 data-background-color="#a4c5ff" class="anchored" data-anchor-id="practice---package-datasets-3">Practice - Package datasets (3)</h2>
<p><br> We can use <code>data()</code> to load a particular dataset from a package (quoted or unquoted both work)</p>
<blockquote class="blockquote">
<p>Load the relevant package first!</p>
</blockquote>
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(economics)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="practice---data-manipulation" class="level2" data-background-color="#a4c5ff">
<h2 data-background-color="#a4c5ff" class="anchored" data-anchor-id="practice---data-manipulation">Practice - data manipulation</h2>
<ul>
<li><p>Load the <code>penguins</code> dataset from the <code>palmerpenguins</code> package</p></li>
<li><p>Create a subset of the data with only <code>species</code>, <code>island</code>, and <code>flipper_length_mm</code></p></li>
<li><p>How many individuals have flippers &gt; 195 mm in length?</p></li>
<li><p>Create a new column with the flipper length in inches, place it before the column with the length in mm</p></li>
</ul>
</section>
</section>
<section id="working-across-multiple-columns" class="level1">
<h1>Working <code>across()</code> multiple columns</h1>
<section id="operating-on-multiple-columns" class="level2">
<h2 class="anchored" data-anchor-id="operating-on-multiple-columns">Operating on multiple columns</h2>
<p><span style="font-size: 1.5em; text-align: center"><code>across()</code></span></p>
<p><code>filter</code> or <code>mutate</code> multiple columns simultaneously</p>
<ul>
<li><p>By position (not recommended), name, or type</p></li>
<li><p>Compound selections of columns<br>
(e.g.&nbsp;<em>factor columns that contain ‚Äúmonth‚Äù in their name</em>)</p></li>
</ul>
</section>
<section id="across-arguments" class="level2">
<h2 class="anchored" data-anchor-id="across-arguments"><code>across()</code> arguments:</h2>
<p><span style="color:green font-size: 1.3em">.cols</span> Columns to transform</p>
<p><span style="color:pink font-size: 1.3em">.fns</span> Function to apply to each of the selected columns</p>
<blockquote class="blockquote">
<p>Expects a function, so function name and arguments can be passed separately (new preference is for anonymous functions, which we will cover later)</p>
</blockquote>
<hr>
<p><br></p>
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>mcountries <span class="sc">%&gt;%</span> </span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(species, threatened), <span class="st">`</span><span class="at">*</span><span class="st">`</span>, <span class="dv">2</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: There was 1 warning in `mutate()`.
‚Ñπ In argument: `across(c(species, threatened), `*`, 2)`.
Caused by warning:
! The `...` argument of `across()` is deprecated as of dplyr 1.1.0.
Supply arguments directly to `.fns` through an anonymous function instead.

  # Previously
  across(a:b, mean, na.rm = TRUE)

  # Now
  across(a:b, \(x) mean(x, na.rm = TRUE))</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 4
  cntry     species threatened region 
  &lt;chr&gt;       &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;  
1 Indonesia    1340        382 Asia   
2 Brasil       1296        160 America
3 China        1102        146 Asia   </code></pre>
</div>
</div>
</div>
<ul>
<li><p><code>.cols</code> is a vector with the names of the two columns we‚Äôre interested in</p></li>
<li><p><code>*</code> is the function to apply, <code>2</code> is the function argument</p></li>
</ul>
</section>
<section id="useful-column-selection-helpers" class="level2">
<h2 class="anchored" data-anchor-id="useful-column-selection-helpers">Useful column selection helpers</h2>
<p>To specify sets of columns, there are a number of useful helper functions that we can use alongside or instead of the <code>across</code> function.</p>
<p><br></p>
<div class="rightref">
<div class="refbox">
<p><a href="https://dplyr.tidyverse.org/reference/dplyr_tidy_select.html">dplyr selection features and helpers</a></p>
</div>
</div>
</section>
<section id="everything" class="level2">
<h2 class="anchored" data-anchor-id="everything"><code>everything()</code></h2>
<p>Matches all variables</p>
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>mcountries <span class="sc">%&gt;%</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), as.character)) <span class="sc">%&gt;%</span> </span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 4
  cntry     species threatened region 
  &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;      &lt;chr&gt;  
1 Indonesia 670     191        Asia   
2 Brasil    648     80         America
3 China     551     73         Asia   </code></pre>
</div>
</div>
</div>
</section>
<section id="section-11" class="level2">
<h2 class="anchored" data-anchor-id="section-11"><code>!</code></h2>
<p>Take the complement of a set of variables (negate a selection)</p>
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>mcountries <span class="sc">%&gt;%</span> </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(region,threatened)) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 2
  cntry     species
  &lt;chr&gt;       &lt;int&gt;
1 Indonesia     670
2 Brasil        648
3 China         551
4 Mexico        523
5 Peru          467
6 Congo         430</code></pre>
</div>
</div>
</div>
</section>
<section id="where" class="level2">
<h2 class="anchored" data-anchor-id="where"><code>where()</code></h2>
<p>Selects variables for which a predicate function returns <code>TRUE</code></p>
<blockquote class="blockquote">
<p>e.g.&nbsp;subset or transform all numeric variables, determined by <code>is.numeric()</code></p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>mcountries <span class="sc">%&gt;%</span> </span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), log2)) <span class="sc">%&gt;%</span> <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 4
  cntry     species threatened region 
  &lt;chr&gt;       &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;  
1 Indonesia    9.39       7.58 Asia   
2 Brasil       9.34       6.32 America
3 China        9.11       6.19 Asia   </code></pre>
</div>
</div>
</section>
<section id="matches" class="level2">
<h2 class="anchored" data-anchor-id="matches"><code>matches()</code></h2>
<p>Match variable names with a regular expression</p>
<blockquote class="blockquote">
<p>e.g.&nbsp;drop variables with the pattern ‚Äòcn.r‚Äô in their name</p>
</blockquote>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>mcountries <span class="sc">%&gt;%</span> </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">matches</span>(<span class="st">"cn.r"</span>), toupper)) <span class="sc">%&gt;%</span> head</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 4
  cntry     species threatened region 
  &lt;chr&gt;       &lt;int&gt;      &lt;int&gt; &lt;chr&gt;  
1 INDONESIA     670        191 Asia   
2 BRASIL        648         80 America
3 CHINA         551         73 Asia   
4 MEXICO        523         96 America
5 PERU          467         53 America
6 CONGO         430         15 Africa </code></pre>
</div>
</div>
</section>
<section id="section-12" class="level2">
<h2 class="anchored" data-anchor-id="section-12"><code>:</code></h2>
<p>Select a range of consecutive variables</p>
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>mcountries <span class="sc">%&gt;%</span> </span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(cntry<span class="sc">:</span>threatened) <span class="sc">%&gt;%</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 3
  cntry     species threatened
  &lt;chr&gt;       &lt;int&gt;      &lt;int&gt;
1 Indonesia     670        191
2 Brasil        648         80
3 China         551         73
4 Mexico        523         96
5 Peru          467         53
6 Congo         430         15</code></pre>
</div>
</div>
</div>
</section>
<section id="section-13" class="level2">
<h2 class="anchored" data-anchor-id="section-13"><code>-</code></h2>
<p>Exclude variables</p>
<p>(return all elements except the one preceded by the subtraction operator)</p>
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>mcountries <span class="sc">%&gt;%</span> </span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>region) <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 √ó 3
  cntry     species threatened
  &lt;chr&gt;       &lt;int&gt;      &lt;int&gt;
1 Indonesia     670        191
2 Brasil        648         80
3 China         551         73</code></pre>
</div>
</div>
</div>
</section>
<section id="no-helpers-multiple-variables" class="level2">
<h2 class="anchored" data-anchor-id="no-helpers-multiple-variables">No helpers, multiple variables</h2>
<p>Square root (<code>sqrt()</code>) of <code>species</code> and <code>threatened</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>mcountries <span class="sc">%&gt;%</span>  </span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">c</span>(species, threatened), sqrt)) <span class="sc">%&gt;%</span> </span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 4
  cntry     species threatened region 
  &lt;chr&gt;       &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;  
1 Indonesia    25.9      13.8  Asia   
2 Brasil       25.5       8.94 America
3 China        23.5       8.54 Asia   
4 Mexico       22.9       9.80 America
5 Peru         21.6       7.28 America
6 Congo        20.7       3.87 Africa </code></pre>
</div>
</div>
</section>
<section id="square-root-sqrt-of-all-numeric-variables" class="level2">
<h2 class="anchored" data-anchor-id="square-root-sqrt-of-all-numeric-variables">Square root (<code>sqrt()</code>) of all numeric variables</h2>
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>mcountries <span class="sc">%&gt;%</span> </span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), sqrt)) <span class="sc">%&gt;%</span> </span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 4
  cntry     species threatened region 
  &lt;chr&gt;       &lt;dbl&gt;      &lt;dbl&gt; &lt;chr&gt;  
1 Indonesia    25.9      13.8  Asia   
2 Brasil       25.5       8.94 America
3 China        23.5       8.54 Asia   
4 Mexico       22.9       9.80 America
5 Peru         21.6       7.28 America
6 Congo        20.7       3.87 Africa </code></pre>
</div>
</div>
</div>
</section>
<section id="we-can-also-use-selection-helpers-to-keepdiscard-variables" class="level2">
<h2 class="anchored" data-anchor-id="we-can-also-use-selection-helpers-to-keepdiscard-variables">We can also use selection helpers to keep/discard variables</h2>
<p>Keep only columns of type numeric</p>
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>mcountries <span class="sc">%&gt;%</span> </span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric)) <span class="sc">%&gt;%</span> </span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 √ó 2
  species threatened
    &lt;int&gt;      &lt;int&gt;
1     670        191
2     648         80
3     551         73
4     523         96
5     467         53
6     430         15</code></pre>
</div>
</div>
</div>
</section>
</section>
<section id="pivoting-data" class="level1">
<h1>Pivoting data</h1>
<section id="section-14" class="level2">
<h2 class="anchored" data-anchor-id="section-14"></h2>
<div class="columns">
<div class="column" style="width:50%;">
<section id="wide-data" class="level3">
<h3 class="anchored" data-anchor-id="wide-data">Wide Data</h3>
<p>Human-readable<br>
Easier entry<br>
Easier interactive editing</p>
</section>
</div><div class="column" style="width:50%;">
<section id="long-data" class="level3">
<h3 class="anchored" data-anchor-id="long-data">Long Data</h3>
<p>Often meets Tidy Data principles<br>
Analysis-ready<br>
Maps well to plot axes and aesthetics</p>
</section>
</div>
</div>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="imgs/widelong.png" class="img-fluid quarto-figure quarto-figure-left figure-img" style="width:80.0%"></p>
</figure>
</div>
</section>
<section id="reshaping-data-with-tidyr" class="level2">
<h2 class="anchored" data-anchor-id="reshaping-data-with-tidyr">Reshaping data with üì¶ <code>tidyr</code></h2>
<p><br> wide to long: <code>pivot_longer()</code></p>
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_longer</span>(data, cols, names_to, values_to)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p><br> long to wide: <code>pivot_wider()</code></p>
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pivot_longer</span>(data, cols, names_from, values_from)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="section-15" class="level2">
<h2 class="anchored" data-anchor-id="section-15"></h2>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">dining options</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Data</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<div class="cell-output-display">
<div id="noiktmxsiy" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#noiktmxsiy table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#noiktmxsiy thead, #noiktmxsiy tbody, #noiktmxsiy tfoot, #noiktmxsiy tr, #noiktmxsiy td, #noiktmxsiy th {
  border-style: none;
}

#noiktmxsiy p {
  margin: 0;
  padding: 0;
}

#noiktmxsiy .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #F4F4F9;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#noiktmxsiy .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#noiktmxsiy .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #F4F4F9;
  border-bottom-width: 0;
}

#noiktmxsiy .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #F4F4F9;
  border-top-width: 0;
}

#noiktmxsiy .gt_heading {
  background-color: #F4F4F9;
  text-align: center;
  border-bottom-color: #F4F4F9;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#noiktmxsiy .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#noiktmxsiy .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#noiktmxsiy .gt_col_heading {
  color: #333333;
  background-color: #F4F4F9;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#noiktmxsiy .gt_column_spanner_outer {
  color: #333333;
  background-color: #F4F4F9;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#noiktmxsiy .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#noiktmxsiy .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#noiktmxsiy .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#noiktmxsiy .gt_spanner_row {
  border-bottom-style: hidden;
}

#noiktmxsiy .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #F4F4F9;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#noiktmxsiy .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #F4F4F9;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#noiktmxsiy .gt_from_md > :first-child {
  margin-top: 0;
}

#noiktmxsiy .gt_from_md > :last-child {
  margin-bottom: 0;
}

#noiktmxsiy .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#noiktmxsiy .gt_stub {
  color: #333333;
  background-color: #F4F4F9;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#noiktmxsiy .gt_stub_row_group {
  color: #333333;
  background-color: #F4F4F9;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#noiktmxsiy .gt_row_group_first td {
  border-top-width: 2px;
}

#noiktmxsiy .gt_row_group_first th {
  border-top-width: 2px;
}

#noiktmxsiy .gt_summary_row {
  color: #333333;
  background-color: #F4F4F9;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#noiktmxsiy .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#noiktmxsiy .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#noiktmxsiy .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#noiktmxsiy .gt_grand_summary_row {
  color: #333333;
  background-color: #F4F4F9;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#noiktmxsiy .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#noiktmxsiy .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#noiktmxsiy .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#noiktmxsiy .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#noiktmxsiy .gt_footnotes {
  color: #333333;
  background-color: #F4F4F9;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#noiktmxsiy .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#noiktmxsiy .gt_sourcenotes {
  color: #333333;
  background-color: #F4F4F9;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#noiktmxsiy .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#noiktmxsiy .gt_left {
  text-align: left;
}

#noiktmxsiy .gt_center {
  text-align: center;
}

#noiktmxsiy .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#noiktmxsiy .gt_font_normal {
  font-weight: normal;
}

#noiktmxsiy .gt_font_bold {
  font-weight: bold;
}

#noiktmxsiy .gt_font_italic {
  font-style: italic;
}

#noiktmxsiy .gt_super {
  font-size: 65%;
}

#noiktmxsiy .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#noiktmxsiy .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#noiktmxsiy .gt_indent_1 {
  text-indent: 5px;
}

#noiktmxsiy .gt_indent_2 {
  text-indent: 10px;
}

#noiktmxsiy .gt_indent_3 {
  text-indent: 15px;
}

#noiktmxsiy .gt_indent_4 {
  text-indent: 20px;
}

#noiktmxsiy .gt_indent_5 {
  text-indent: 25px;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<thead>
<tr class="header gt_col_headings">
<th id="area_type" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-size: 24px" scope="col">area_type</th>
<th id="district" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" style="font-size: 24px" scope="col">district</th>
<th id="coffee_shops" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="font-size: 24px" scope="col">coffee_shops</th>
<th id="fast_food" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="font-size: 24px" scope="col">fast_food</th>
<th id="fish_chips" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" style="font-size: 24px" scope="col">fish_chips</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="area_type" style="font-size: 24px">Residential</td>
<td class="gt_row gt_left" headers="district" style="font-size: 24px">South</td>
<td class="gt_row gt_right" headers="coffee_shops" style="font-size: 24px">2</td>
<td class="gt_row gt_right" headers="fast_food" style="font-size: 24px">3</td>
<td class="gt_row gt_right" headers="fish_chips" style="font-size: 24px">1</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="area_type" style="font-size: 24px">Commercial</td>
<td class="gt_row gt_left" headers="district" style="font-size: 24px">North</td>
<td class="gt_row gt_right" headers="coffee_shops" style="font-size: 24px">12</td>
<td class="gt_row gt_right" headers="fast_food" style="font-size: 24px">6</td>
<td class="gt_row gt_right" headers="fish_chips" style="font-size: 24px">4</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="area_type" style="font-size: 24px">Suburban</td>
<td class="gt_row gt_left" headers="district" style="font-size: 24px">South</td>
<td class="gt_row gt_right" headers="coffee_shops" style="font-size: 24px">2</td>
<td class="gt_row gt_right" headers="fast_food" style="font-size: 24px">4</td>
<td class="gt_row gt_right" headers="fish_chips" style="font-size: 24px">3</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="area_type" style="font-size: 24px">Rural</td>
<td class="gt_row gt_left" headers="district" style="font-size: 24px">East</td>
<td class="gt_row gt_right" headers="coffee_shops" style="font-size: 24px">0</td>
<td class="gt_row gt_right" headers="fast_food" style="font-size: 24px">2</td>
<td class="gt_row gt_right" headers="fish_chips" style="font-size: 24px">0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>dining <span class="ot">&lt;-</span> </span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>tibble<span class="sc">::</span><span class="fu">tribble</span>(</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>     <span class="sc">~</span>area_type, <span class="sc">~</span>district, <span class="sc">~</span>coffee_shops, <span class="sc">~</span>fast_food, <span class="sc">~</span>fish_chips,</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"Residential"</span>,   <span class="st">"South"</span>,            <span class="dv">2</span>L,         <span class="dv">3</span>L,          <span class="dv">1</span>L,</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>   <span class="st">"Commercial"</span>,   <span class="st">"North"</span>,           <span class="dv">12</span>L,         <span class="dv">6</span>L,          <span class="dv">4</span>L,</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>     <span class="st">"Suburban"</span>,   <span class="st">"South"</span>,            <span class="dv">2</span>L,         <span class="dv">4</span>L,          <span class="dv">3</span>L,</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Rural"</span>,    <span class="st">"East"</span>,            <span class="dv">0</span>L,         <span class="dv">2</span>L,          <span class="dv">0</span>L</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
<p><span style="font-size: 1.2em; text-align: center">Variables:</span></p>
<p>area type, district, type of restaurant, number of restaurants</p>
</section>
<section id="wide-to-long" class="level2">
<h2 class="anchored" data-anchor-id="wide-to-long">Wide to long</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>dining_long <span class="ot">&lt;-</span> dining <span class="sc">%&gt;%</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(coffee_shops, fast_food, fish_chips),</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"restaurant_type"</span>,</span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"n_restaurants"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong><code>cols</code></strong> Which columns have data in their names</p>
<p><strong><code>names_to</code></strong> Name for the new column to be created from <code>cols</code></p>
<p><strong><code>values_to</code></strong> Name of the column to be created from the contents of the cells in <strong><code>cols</code></strong></p>
</section>
<section id="section-16" class="level2">
<h2 class="anchored" data-anchor-id="section-16"></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>dining <span class="sc">%&gt;%</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(coffee_shops, fast_food, fish_chips),</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"restaurant_type"</span>,</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"n_restaurants"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-17" class="level2">
<h2 class="anchored" data-anchor-id="section-17"></h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>dining <span class="sc">%&gt;%</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(coffee_shops, fast_food, fish_chips),</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"restaurant_type"</span>,</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"n_restaurants"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 √ó 4
   area_type   district restaurant_type n_restaurants
   &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;                   &lt;int&gt;
 1 Residential South    coffee_shops                2
 2 Residential South    fast_food                   3
 3 Residential South    fish_chips                  1
 4 Commercial  North    coffee_shops               12
 5 Commercial  North    fast_food                   6
 6 Commercial  North    fish_chips                  4
 7 Suburban    South    coffee_shops                2
 8 Suburban    South    fast_food                   4
 9 Suburban    South    fish_chips                  3
10 Rural       East     coffee_shops                0
11 Rural       East     fast_food                   2
12 Rural       East     fish_chips                  0</code></pre>
</div>
</div>
</section>
<section id="long-to-wide" class="level2">
<h2 class="anchored" data-anchor-id="long-to-wide">Long to wide</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>dining_long <span class="sc">%&gt;%</span> </span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> restaurant_type, </span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> n_restaurants)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong><code>names_from</code></strong> Which columns‚Äô values will be used for new <em>column names</em></p>
<p><strong><code>values_from</code></strong> Which column has the <em>cell values</em> for the new output columns</p>
</section>
<section id="section-18" class="level2">
<h2 class="anchored" data-anchor-id="section-18"></h2>
<div class="med-code">
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>dining_long <span class="sc">%&gt;%</span> </span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> restaurant_type, </span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>              <span class="at">values_from =</span> n_restaurants)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 √ó 5
  area_type   district coffee_shops fast_food fish_chips
  &lt;chr&gt;       &lt;chr&gt;           &lt;int&gt;     &lt;int&gt;      &lt;int&gt;
1 Residential South               2         3          1
2 Commercial  North              12         6          4
3 Suburban    South               2         4          3
4 Rural       East                0         2          0</code></pre>
</div>
</div>
</div>
</section>
<section id="practice---pivoting" class="level2" data-background-color="#a4c5ff">
<h2 data-background-color="#a4c5ff" class="anchored" data-anchor-id="practice---pivoting">Practice - Pivoting</h2>
<ul>
<li><p>Load the ‚Äú<code>gene_expression.csv</code>‚Äù file This table contains simulated gene expression values (arbitrary units) for five different fish measured at six time points and sampled from two tissues.</p></li>
<li><p>Pivot the data (wide to long and back to wide)</p></li>
</ul>
</section>
</section>
<section id="questions-and-discussion" class="level1">
<h1>Questions and discussion</h1>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Created with <a href="https://quarto.org/">Quarto</a>.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>Luis D. Verde Arregoitia - 2024</p>
</div>
  </div>
</footer>




</body></html>