{
  "hash": "91dae3efb864f5bae228d800a273b41d",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"A practical introduction to R\"\nsubtitle: \"Getting started\"\nauthor: Luis D. Verde Arregoitia\nformat:\n  revealjs:\n    theme: course_styles.scss\n    transition: fade\n    progress: true\n    preview-links: true\n    hide-inactive-cursor: true\n    highlight-style: printing\n    pause: true\neditor: source\nknitr:\n  opts_chunk:\n    dev: \"ragg_png\"\n    retina: 3\n    dpi: 200\nexecute:\n  freeze: auto\n  cache: true\n  echo: true\n  fig-width: 5\n  fig-height: 6\n---\n\n::: {.cell}\n\n:::\n\n\n\n## \n\n::: columns\n::: {.column width=\"40%\"}\n![](imgs/luisbb.jpg){width=\"50%\"}\\\n[`<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 512 512\" style=\"height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z\"/></svg>`{=html} \\@LuisDVerde](https://twitter.com/LuisDVerde)\\\n[`<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 448 512\" style=\"height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M433 179.11c0-97.2-63.71-125.7-63.71-125.7-62.52-28.7-228.56-28.4-290.48 0 0 0-63.72 28.5-63.72 125.7 0 115.7-6.6 259.4 105.63 289.1 40.51 10.7 75.32 13 103.33 11.4 50.81-2.8 79.32-18.1 79.32-18.1l-1.7-36.9s-36.31 11.4-77.12 10.1c-40.41-1.4-83-4.4-89.63-54a102.54 102.54 0 0 1-.9-13.9c85.63 20.9 158.65 9.1 178.75 6.7 56.12-6.7 105-41.3 111.23-72.9 9.8-49.8 9-121.5 9-121.5zm-75.12 125.2h-46.63v-114.2c0-49.7-64-51.6-64 6.9v62.5h-46.33V197c0-58.5-64-56.6-64-6.9v114.2H90.19c0-122.1-5.2-147.9 18.41-175 25.9-28.9 79.82-30.8 103.83 6.1l11.6 19.5 11.6-19.5c24.11-37.1 78.12-34.8 103.83-6.1 23.71 27.3 18.4 53 18.4 175z\"/></svg>`{=html} \\@LuisDVerde](https://fosstodon.org/@LuisDVerde)\\\n[`<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 496 512\" style=\"height:1em;width:0.97em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z\"/></svg>`{=html} \\@LuisDVA](https://github.com/luisdva)\\\n[`<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 640 512\" style=\"height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z\"/></svg>`{=html} liomys.mx](https://liomys.mx)\\\n[`<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 512 512\" style=\"height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M16.1 260.2c-22.6 12.9-20.5 47.3 3.6 57.3L160 376V479.3c0 18.1 14.6 32.7 32.7 32.7c9.7 0 18.9-4.3 25.1-11.8l62-74.3 123.9 51.6c18.9 7.9 40.8-4.5 43.9-24.7l64-416c1.9-12.1-3.4-24.3-13.5-31.2s-23.3-7.5-34-1.4l-448 256zm52.1 25.5L409.7 90.6 190.1 336l1.2 1L68.2 285.7zM403.3 425.4L236.7 355.9 450.8 116.6 403.3 425.4z\"/></svg>`{=html} luis\\@liomys.mx](mailto:luis@liomys.mx)\n:::\n\n::: {.column width=\"60%\"}\n\n-   Mammalogy, macroecology, conservation\n-   Biogeography, using R as a GIS\n-   Data Science with R\n-   Certified Instructor - Posit(RStudio) & The Carpentries  \n-   R user since 2011\\\n-   R 'blogger' since 2015\n:::\n:::\n\n## Today\n\n* Code-based data analyses\\\n* Project workflow and structure\\\n* Naming things\\\n* Paths\\\n* File import\\\n* Objects\\\n\n##\n\n![](imgs/rake.jpg){fig-align=\"center\"}\n\n\n## What is `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 581 512\" style=\"height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z\"/></svg>`{=html}?\n\n‚úçÔ∏èSoftware\n\n. . .\n\nDialect of S?\\\nStatistical package?\\\nRStudio?\\\nScripting language?\\\nGraphical device?\n\n## `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 581 512\" style=\"height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z\"/></svg>`{=html}?\n\n::: columns\n::: {.column width=\"50%\"}\n‚úçÔ∏èüßë‚ÄçüéìPros\n:::\n\n::: {.column width=\"50%\"}\n‚úçÔ∏èüßë‚ÄçüéìCons\n:::\n:::\n\n## This course\n\n\n- Local installs\n- RStudio IDE\n- `tidyverse` dialect\n- Online course materials \n\n## My setup\n\n-   R v4.4.1\n\n-   RStudio 2024.04.2 \n\n-   Default look\n\n-   Linux Mint 22\n\n## `<svg aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 581 512\" style=\"height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><path d=\"M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z\"/></svg>`{=html} is not RStudio\n\n**IDE** - Integrated Development Environment\n\nTools to make programming easier\n\n- Syntax-aware text editor\n\n- Shortcuts and tools to manage and execute code\n\n- Panes and windows to organize code, plots, R console, help, etc.\n\n## Alternatives\n\n- RStudio (from posit, formerly RStudio PBC)\\\n- **Positron** (new IDE from posit)\n- Emacs + ESS (https://ess.r-project.org)\\\n- vim + Nvim-R: ([Turn Vim Into an IDE for R](https://medium.com/free-code-camp/turning-vim-into-an-r-ide-cd9602e8c217))\\\n- Visual Studio + [RTVS](https://docs.microsoft.com/en-us/visualstudio/rtvs)\n- Any [text](https://web.archive.org/web/20151108031733/http://www.sciviews.org/_rgui/projects/Editors.html) editor (sending code to a running instance)\n\n## \n\n![R. Geert van den Berg [SPSS Tutorials] ](https://spss-tutorials.com/img/spss-data-editor-data-view.png)\n\n## Scripts and source code\n\n::: columns\n::: {.column width=\"40%\"}\n![](imgs/pancks.png)\n:::\n\n::: {.column width=\"60%\"}\n\n- Reproduce and modify steps in a sequence\n\n- Find mistakes\n\n- Document a workflow\n\n- Examine other people's though process\n\n:::\n:::\n\n## üì¶ Packages\n\\\n\\\nWhen installing R we install:\n\n</br>\n\n`base`: R's core functions </br>\n\nsome examples:\n`list()`, `log()`,`cat()`, `rm()` etc...\n\n> R uses ~30 base and recommended packages\n\n\n## üì¶ Additional Packages\n\nFree libraries of code written by R's active user community.\n\n-   \\>20,000 on [CRAN](https://cran.r-project.org/) (The Comprehensive R Archive Network)\n\n-   many more on GitHub, GitLab, Bitbucket, Bioconductor, etc.\n\nInstall with:\n\n`install.packages()` for CRAN packages\\\n`üì¶ pak` for most other sources\n\n## R and RStudio guided tour {background-color=\"#a4c5ff\"}\n\n-   Run R\n\n-   Run RStudio\n\n-   Install any missing course packages:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ninstall.packages(\"readxl\")\ninstall.packages(\"fs\")\ninstall.packages(\"here\")\ninstall.packages(\"openintro\")\n```\n:::\n\n\n\n\n# Before we start\n\n## File systems\n\n::: columns\n::: {.column width=\"33%\"}\n![](imgs/filenotfound.png) Monica Chin (2021)\\\n[File not Found](https://www.theverge.com/22684730/students-file-folder-directory-structure-education-gen-z)\n:::\n\n::: {.column width=\"33%\"}\n![](imgs/filesfolders.png) Jody Macgregor (2021)\\\n[PC Gamer](https://www.pcgamer.com/students-dont-know-what-files-and-folders-are-professors-say/)\n:::\n\n::: {.column width=\"33%\"}\n![](imgs/filesdmp.png)\n:::\n:::\n\n##  {background-image=\"imgs/escritorioadri.png\"}\n\n## Folders, paths, and names\n\n::: columns\n::: {.column width=\"33%\"}\n![](imgs/file-system.jpg)\n:::\n\n::: {.column width=\"66%\"}\n\nStore files in **specific** locations, with useful and **intentional** names\n\n- Short informative names\n\n- Easy to sort and compatible with partial matching\n\n- Be mindful of spaces and special characters\n\n:::\n:::\n\n## Names\n\n::: columns\n::: {.column width=\"40%\"}\n### OK\n\n`max_temp` </br>\\\n</br> `min_price_usd`\\\n`monthly_temp`\n:::\n\n::: {.column width=\"60%\"}\n### fix\n\n`'maximum temperature in 2014 in Belize'`\\\n`max`\\\n`temp`\\\n`'Minimum Price ($) USD'`\\\n`'Temperature/Month (¬∞F)'`\\\n</br>\n:::\n:::\n\n::::{.rightref}\n:::{.refbox}\nJenny Bryan (2015)\\\n[Naming Things](https://speakerdeck.com/jennybc/how-to-name-files)\n:::\n::::\n\n## Names\n\n::: columns\n::: {.column width=\"60%\"}\n### OK\n\n`01_invoice-march2023.pdf`\\\n`02_invoice-july2023.pdf`\\\n`ms_ferns_20210412.docx`\n:::\n\n::: {.column width=\"40%\"}\n### fix\n\n`download462copy.pdf`\\\n`julypurchases.pdf`\\\n`draft.docx`\\\n:::\n:::\n\n\n\n## Letter cases\n\n</br>\nreptileDataNew  \n</br>\nreptile_data_new  \n</br>\nreptile-data-new  \n</br> \nreptile.data.new  \n</br>\nREPTILE_DATA_NEW\n\n## Project organization\n\n*Project*: A folder on your computer that holds all the files relevant to a particular piece of work\n\n### Separate:\n\n\nüìÅ Data (or code to get data from a remote resource)\\\nüìÅ Analysis and/or visualization scripts\\\nüìÅ Outputs (graphs, reports, intermediate data files, etc.)\\\n  \n::::{.rightref}\n:::{.refbox}\n::: columns\n::: {.column width=\"50%\"}\nJenny Bryan (2017)\\\n[Project-oriented workflow](https://www.tidyverse.org/blog/2017/12/workflow-vs-script/)\n:::\n\n::: {.column width=\"50%\"}\nMa√´lle Salmon (2021)\\\n[Draw me a project](https://masalmon.eu/2021/06/30/r-projects/)\n:::\n:::\n:::\n::::\n\n\n\n## RStudio Projects\n\n::: columns\n::: {.column width=\"35%\"}\n![](imgs/rprojects.png)\n:::\n\n::: {.column width=\"65%\"}\n-   dedicated R process\n\n-   file browser pointed at Project directory\n\n    -   convenient 'go-to-project directory' button\n\n-   working directory set to Project directory\n\n    -   paths become relative to project directory\n:::\n:::\n\n_In Positron this works by setting `Folders`_\n\n## Practice{background-color=\"#a4c5ff\"}\n\nCreate an RStudio project for this course\n\n</br>\n\n- somewhere easy to access (e.g., Desktop) \n- \"intro-R-2024\" or similar as a name  \n\n> Saving projects one OneDrive may cause issues\n\n## \n\n![](imgs/ubereats.png){fig-align=\"center\" width=\"70%\"}\n\n## üì¶ `fs`\n\nWork with the file system (cross-platform)\n\n### Nice, clean paths:  \n\n-   Always use '**`/`**' to delimit directories\\\n-   Never have multiple or trailing '**`/`**'\n\n### `fs` functions can:\n\nCreate folders\\\nMove, copy, list, or rename files\\\n\n## Course script organization (suggested)\n\n- Create scripts for different topics (new R file button or keyboard shortcut)\n\n- Use `#` for commenting\n\n- Organize into subfolders\n\n\n## Practice{background-color=\"#a4c5ff\"}\n\n-   Set up folders in the project directory\n    -   data\n    -   out\n    -   R\n\n### Installed packages are loaded with `library()`\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(fs)\n```\n:::\n\n\n\n## Creating new folders\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndir_create(\"R\")\ndir_create(\"data\")\ndir_create(\"out\")\ndir_ls()\n```\n:::\n\n\n\n> This can also be done from the RStudio file browser, the terminal, or the OS file browser\n\n## Save source, not workspace\n\n::: columns\n::: {.column width=\"30%\"}\n<img src=\"imgs/pancks.png\"/>\n:::\n\n::: {.column width=\"70%\"}\n- Save important objects or figures explicitly to file \n\n- avoid `rm(list = ls())`, **attached objects and packages persist**\n\n- Set up 'blank slate' and restart R session often\n\n::::{.rightref}\n:::{.refbox}\nJenny Bryan & Jim Hester (2020)\\\n[What they forgot to teach you about R](https://rstats.wtf/save-source.html)\\\nJenny Bryan (2018)\\\n[Zen And The aRt Of Workflow Maintenance](https://speakerdeck.com/jennybc/zen-and-the-art-of-workflow-maintenance)\n:::\n::::\n\n:::\n:::\n\n## Blank slate\n\n::: columns\n::: {.column width=\"60%\"}\n- do not save the workspace to an .Rdata file  \n\n- at launch, do not reload the workspace from an .Rdata file.\n:::\n\n::: {.column width=\"40%\"}\n\n![](imgs/clnslt.jpg)\n\n:::\n:::\n\n> This is the default behavior in Positron\n\n## Restarting R\n\n### `Ctrl+Shift+F10`\n(Windows & Linux)\n\n### `Command+Shift+F10`    \n(Mac)\n\n\n##  Relative paths\n\n`F:\\path\\that\\no one\\else\\has\\my-project\\analysis\\script1.R`\n\n\n- Preferably, work relative to your project root using projects\n\n- Share relative file paths (e.g., `R/anova.R`,  \n\n`data/transect1.csv`, etc.) \n\n\n::::{.rightref}\n:::{.refbox}\n[Ode to the here package (2018)](https://github.com/jennybc/here_here)\n:::\n::::\n\n\n## File import (tabular data)\n\n-   With the \"*Import Dataset*\" button\n-   With a `read` function\n\n![[R for Epidemiology](www.r4epi.com) - Cannell & Livingstone ](https://www.r4epi.com/img/03_part_data_transfer/04_importing_binary_files/files.png)\n\n\n## File import\n\n### We need:\n\n- a function that reads files from disk (or the web)\n- file path\n- name of the object to create from the file\n- additional arguments to control the import process\n\n##\n\n::: {.med-code}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmy_table <- read.csv(\n  file = \"my_folder/my-file.csv\",\n  header = TRUE\n  ) \n```\n:::\n\n\n:::\n\n</br>\n\n`my_table` - object being created in R  \n`read.csv()` - function to read delimited text files  \n`file = \"my_folder/my-file.csv\"` - file path  \n`header = TRUE`  - additional argument (specify if first row contains the variable names)\n\n\n## `readr` and `readxl`\n\nAdditional packages to import rectangular data from text files and spreadsheets\n\n-   Fewer import errors\n\n-   Flexible and fast\n\n-   Tools to clean values inside columns\n\n\n## Spreadsheets\n\n- ~ 1000,000,000 users worldwide\n- `xlsx`, `xls`, `ods` formats and web-based (e.g. Google sheets)\n\n::: columns\n::: {.column width=\"50%\"}\n![[Loans in 1593](https://librarysearch.temple.edu/catalog/991029783589703811)](imgs/rome.jpg){width=\"40%\"}\n:::\n\n::: {.column width=\"50%\"}\n![[VisiCalc](https://en.wikipedia.org/wiki/VisiCalc)](imgs/Visicalc.png){width=\"70%\"}\n:::\n:::\n\n\n## Practice - File Import {background-color=\"#a4c5ff\"}\n\nwith `readxl`:  \n\nImport the sheets from the `petshop.xlsx` file \n\n### Useful arguments\n\n- `path`\n- `sheet` \n- `skip`\n\n# Data structures\n\n## R programming principles\n\n<br/>\n\n::: {.incremental}\n\n- Everything that exists is an *object*\n<br/>\n\n- Everything that happens is a *function* call\n(*functions are objects*)\n<br/>\n\n- Functions (generally) live in packages\n\n:::\n\n## Objects\n\n-   Tables with rows and columns\n\n-   Models\n\n-   Lists\n\n-   Graphics\n\n> All objects have classes and attributes and there are many ways to create them\n\n## \n\n::: columns\n::: {.column width=\"50%\"}\n\n### Vectors\n\n![](imgs/vector.png)\n\n### Lists\n\n![](imgs/listhad.png)\n:::\n\n::: {.column width=\"50%\"}\n\n### Tables\n\n![](imgs/dataframe.png)\n:::\n:::\n\n\n## Vectors\n\nNumbers\n\n:::{.big-code}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nc(1,2,3,4)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1 2 3 4\n```\n\n\n:::\n:::\n\n\n:::\n</br>\n\n:::{.big-code}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nc(22.1,0.006,4.1)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 22.100  0.006  4.100\n```\n\n\n:::\n:::\n\n\n:::\n\n## Vectors\n\nCharacter\n\n:::{.big-code}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nc(\"dog\",\"cat\",\"rat\",\"B\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"dog\" \"cat\" \"rat\" \"B\"  \n```\n\n\n:::\n:::\n\n\n:::\n\n## Vectors\n\nLogical (true/false)\n\n:::{.big-code}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nc(TRUE,FALSE,FALSE,FALSE,TRUE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1]  TRUE FALSE FALSE FALSE  TRUE\n```\n\n\n:::\n:::\n\n\n:::\n\n---\n\n![](imgs/logical.jpg)\n\n---\n\n\n![](imgs/logicalNA.jpg)\n\n## Creating objects\n\n:::{.big-code}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- c(1, 2, 3)\n```\n:::\n\n\n:::\n\nThe function `c()` concatenates elements\n\n:::{.med-code}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx <- c(1,2,3)\ny <- c(\"a\",\"G\",\"h\")\n```\n:::\n\n\n:::\n\n:::{.med-code}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nx\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1 2 3\n```\n\n\n:::\n\n```{.r .cell-code}\ny\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"a\" \"G\" \"h\"\n```\n\n\n:::\n:::\n\n\n:::\n\n## Creating objects\n\n### `<-` \n\nAssignment operator in R  \n\n- associates names and values\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n2*3\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 6\n```\n\n\n:::\n\n```{.r .cell-code}\nresult <- 2*3\nresult\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 6\n```\n\n\n:::\n:::\n\n\n\n\n## Objects have classes\n\n:::{.big-code}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nclass(x)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"numeric\"\n```\n\n\n:::\n\n```{.r .cell-code}\nclass(y)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"character\"\n```\n\n\n:::\n:::\n\n\n:::\n\n\n## Vectors can only contain objects of the same class\n\n:::{.big-code}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nc(1,\"a\",2)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"1\" \"a\" \"2\"\n```\n\n\n:::\n:::\n\n\n:::\n\n_Note the automatic type conversion_\n\n## Numeric vectors\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n7    #a numeric vector with length 1\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 7\n```\n\n\n:::\n\n```{.r .cell-code}\nx1 <- 7     # also a numeric vector with length 1\nx1                    \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 7\n```\n\n\n:::\n\n```{.r .cell-code}\nc(12,3,5,11) # numeric vector with length 4\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 12  3  5 11\n```\n\n\n:::\n:::\n\n\n\n## Factors\n\n::: columns\n::: {.column width=\"40%\"}\n![](imgs/factor.jpg)\n:::\n\n::: {.column width=\"60%\"}\n- Categorical data\n\n- The labels for each value are known as levels\n\n- Create with `factor()`\n:::\n:::\n\n## Factors\n\n:::{.med-code}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfactor(c(\"dog\",\"cat\",\"bird\",\"none\",\n         \"dog\",\"none\",\"dog\",\"dog\",\n         \"cat\",\"bird\",\"dog\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n [1] dog  cat  bird none dog  none dog  dog  cat  bird dog \nLevels: bird cat dog none\n```\n\n\n:::\n:::\n\n\n:::\n\n## Two or more vectors of the same length...\n\n</br>\n\n::: columns\n::: {.column width=\"40%\"}\n![](imgs/dataframe.jpg)\n:::\n\n::: {.column width=\"60%\"}\n### Data frame!\n\n- Tabular object with rows and columns\n\n- Columns may be of different classes\n\n- Each column/variable has a name\n\n:::\n:::\n\n## Data frames\n\n\nCreated importing files or with `data.frame()`\n\n:::{.med-code}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmy_table <- \ndata.frame(id=c(\"frog\",\"fish\",\"otter\",\"worm\"),\n           ind_g=c(12,15,13,10),\n           present=c(TRUE,TRUE,FALSE,TRUE))\n```\n:::\n\n\n:::\n\n-   each vector is a column\n-   column names unquoted\n-   same length for all vectors\n\n## \n:::{.big-code}\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmy_table\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n     id ind_g present\n1  frog    12    TRUE\n2  fish    15    TRUE\n3 otter    13   FALSE\n4  worm    10    TRUE\n```\n\n\n:::\n:::\n\n\n:::\n\n# Questions and discussion\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}